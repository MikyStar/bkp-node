#!/usr/bin/env node

(()=>{"use strict";var e={42:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(519),n=r(176),a=s(r(74)),c=r(593),u=r(327),l=r(87),d=r(436),p=r(696),h=r(298);o(void 0,void 0,void 0,(function*(){try{const{action:e,sourcePath:t,destPath:r}=new n.ArgHandler,o=".archive.temp";switch(e){case n.Action.CREATE:{(0,c.printMessage)("Compression ..."),yield d.Archive.compress({sourcePath:t,destPath:o}),(0,c.printMessage)("done"),(0,c.printMessage)(""),(0,c.printMessage)("Encryption ...");const e=yield(0,h.secretPrompt)("Password: "),s=yield p.Encryption.encrypt({sourcePath:o,destPath:r,password:e});(0,c.printMessage)("done"),(0,c.printMessage)("Here is your initialization vector, you must store it as it is required to decrypt","red"),(0,c.printMessage)(["",s,""]);break}case n.Action.EXTRACT:{(0,c.printMessage)("Decryption ...");const e=yield(0,h.secretPrompt)("Password: "),s=yield(0,h.secretPrompt)("Initialization vector: ");yield p.Encryption.decrypt({sourcePath:t,destPath:o,password:e,initializationVector:s}),(0,c.printMessage)("done"),(0,c.printMessage)("Extraction ..."),yield d.Archive.extract({sourcePath:o,destPath:r}),(0,c.printMessage)("done");break}}i.System.deleteFile(o),i.System.exit(0)}catch(e){if(e instanceof u.CatchableError)if(e instanceof l.CLISyntaxError){const{message:t,manEntries:r,details:o}=e;(0,c.printError)([t,o]),r.forEach((e=>(0,c.printMessage)(["",...a.default.getMan(e)])))}else(0,c.printError)(e.message);else console.error(e);i.System.exit(-1)}}))},436:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Archive=void 0;const i=s(r(416)),n=r(290),a=r(176),c=r(519);!function(e){e.compress=({sourcePath:e,destPath:t})=>o(this,void 0,void 0,(function*(){try{c.System.isDirectory(e)?yield i.default[a.ARCHIVE_ALGO].compressDir(e,t):yield i.default[a.ARCHIVE_ALGO].compressFile(e,t)}catch(e){throw console.log(e),new n.CompressError(e)}})),e.extract=({sourcePath:e,destPath:t})=>o(this,void 0,void 0,(function*(){try{yield i.default[a.ARCHIVE_ALGO].uncompress(e,t)}catch(e){throw new n.ExtractError(e)}}))}(t.Archive||(t.Archive={}))},176:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,s)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ArgHandler=t.Flag=t.ENCRYPTION_ALGO=t.ARCHIVE_ALGO=t.Action=void 0;const n=r(519),a=r(87),c=r(5),u=r(593),l=i(r(74));var d,p;!function(e){e.CREATE="c",e.EXTRACT="x"}(d=t.Action||(t.Action={})),t.ARCHIVE_ALGO="tgz",t.ENCRYPTION_ALGO="aes-256-cbc",function(e){e.HELP="--help",e.VERSION="--version"}(p=t.Flag||(t.Flag={})),t.ArgHandler=class{constructor(){this.setAction=e=>{const t=["create",d.CREATE],r=["extract",d.EXTRACT];if(t.includes(e))this.action=d.CREATE;else{if(!r.includes(e))throw new a.FirstArgError(e);this.action=d.EXTRACT}},this.setSource=e=>{if(!n.System.doesFileExists(e))throw new c.FileNotFoundError(e);this.sourcePath=e},this.setDest=e=>{let t="";if(this.action===d.CREATE?t=e||this.sourcePath+l.DEFAULT_CREATE_EXTENSION:e?t=e:(new RegExp(`${l.DEFAULT_CREATE_EXTENSION}$`).test(this.sourcePath)&&(t=this.sourcePath.split(l.DEFAULT_CREATE_EXTENSION)[0]),t=this.sourcePath+l.DEFAULT_EXTRACT_EXTENSION),n.System.doesFileExists(t))throw new c.FileAlreadyExistsError(t);this.destPath=t},this.searchFlag=e=>void 0!==this.extractOccurances((t=>e.includes(t))),this.extractOccurances=e=>{const t=[];if(this.args.forEach(((r,o)=>{e(r,o)&&t.push({arg:r,index:o})})),0!==t.length){for(let e=t.length-1;e>=0;e--)this.args.splice(t[e].index,1);return t}},this.args=process.argv.slice(2),this.isVersion=this.searchFlag(["-v",p.VERSION]),this.isHelpNeeded=this.searchFlag(["-h",p.HELP]),this.isVersion&&((0,u.printMessage)(l.default.version),n.System.exit(0)),(this.isHelpNeeded||void 0===this.args[0])&&((0,u.printMessage)(l.default.fullMan()),n.System.exit(0)),this.setAction(this.args[0]),this.setSource(this.args[1]),this.setDest(this.args[2])}}},696:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Encryption=void 0;const i=s(r(113)),n=s(r(147)),a=r(186),c=r(176),u="useless salt";!function(e){e.encrypt=({sourcePath:e,destPath:t,password:r})=>o(this,void 0,void 0,(function*(){return new Promise(((o,s)=>{const l=n.default.createReadStream(e),d=n.default.createWriteStream(t),p=i.default.scryptSync(r,u,32),h=i.default.randomBytes(16),f=i.default.createCipheriv(c.ENCRYPTION_ALGO,p,h);l.pipe(f).pipe(d),d.on("finish",(()=>o(h.toString("hex")))),d.on("error",(()=>s(new a.EncryptError)))}))})),e.decrypt=({sourcePath:e,destPath:t,password:r,initializationVector:s})=>o(this,void 0,void 0,(function*(){return new Promise(((o,l)=>{const d=n.default.createReadStream(e),p=n.default.createWriteStream(t),h=i.default.scryptSync(r,u,32),f=Buffer.from(s,"hex"),E=i.default.createDecipheriv(c.ENCRYPTION_ALGO,h,f);d.pipe(E).pipe(p),p.on("finish",(()=>o(!0))),p.on("error",(()=>l(new a.DecryptError)))}))}))}(t.Encryption||(t.Encryption={}))},74:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_EXTRACT_EXTENSION=t.DEFAULT_CREATE_EXTENSION=void 0;const s=o(r(22)),i=o(r(598)),n=r(176);t.DEFAULT_CREATE_EXTENSION=".bkp",t.DEFAULT_EXTRACT_EXTENSION=".dec",t.default=new class{constructor(){this.getMan=e=>this.makeMan(Object.assign(Object.assign({},this[e]),{footer:!0})),this.fullMan=()=>{let e=[];return["create","extract"].forEach((t=>{const r=this.makeMan(Object.assign(Object.assign({},this[t]),{footer:!1}));e=[...e,...r,"","-----",""]})),[...this.header,...e,...this.footer]},this.handleAction=e=>{let t=[];switch(e){case n.Action.CREATE:t=this.getMan("create");break;case n.Action.EXTRACT:t=this.getMan("extract")}return t},this.makeMan=e=>{const{bold:t,underline:r}=s.default;let o=[];return e.title&&(o=[...o,r(e.title),""]),e.prototype&&(o=[...o,t(e.prototype),""]),e.argDef&&(o=[...o,...e.argDef]),e.furtherDescription&&(o=[...o,"",...e.furtherDescription]),e.examples&&(o=[...o,"",r("Examples :"),"",...e.examples]),o};const{bold:e}=s.default;this.header=["",`Create and extract backups of a file or directory compressed with ${s.default.bold("tgz")} and encrypted`,`with ${s.default.bold("aes-256-cbc")} with both your password and a generated initialization vector`,"","-----",""],this.footer=["","-----",`${e(i.default.name)}: ${i.default.description}`,`Version: ${e(i.default.version)}`,`More informations and examples at ${e(i.default.repository.url)}`],this.version=[`${i.default.version}`],this.create={title:"Create a compressed, encrypted backup",prototype:"bkp <c|create> <source path> [<destination path>]",argDef:["<source path> : Absolute or relative path to what you want to backup","[<destination path>] : Optional, absolute or relative path to where you want your",`                       backup file ${s.default.bold(`default: '${t.DEFAULT_CREATE_EXTENSION}'`)}`],furtherDescription:["It will then prompt you for the password you want to set",`After encryption, a initialization vector will be outputed, ${s.default.bold.red("you must store it in order to decrypt afterwards")}`]},this.extract={title:"Extract the content of a backup",prototype:"bkp <x|extract> <source path> [<destination path>]",argDef:["<source path> : Absolute or relative path to your backup location","[<destination path>] : Optional, absolute or relative path to where you want your clear content,","                       if you have used the default '.bkp' extension it will be trimmed, otherwise it will append ",`                       the ${s.default.bold(`prefix: '${t.DEFAULT_EXTRACT_EXTENSION}'`)}`],furtherDescription:["It will then prompt you for the password you have set","Then, you provide the initialization vector that was generated during the backup creation"]}}}},593:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.printError=t.printMessage=void 0;const s=o(r(22));t.printMessage=(e,t)=>{""!==e&&e!==[]&&(e=Array.isArray(e)?e:[e]).forEach((e=>{let r=e;r=t?s.default[t](r):r,console.log(r)}))},t.printError=e=>(0,t.printMessage)(e,"red")},298:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.secretPrompt=void 0;const i=s(r(726));t.secretPrompt=e=>o(void 0,void 0,void 0,(function*(){return yield(0,i.default)(e,{method:"hide"})}))},519:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;const s=o(r(147)),i=o(r(17)),n=r(5);var a;(a=t.System||(t.System={})).exit=(e=0)=>process.exit(e),a.getAbsolutePath=e=>i.default.isAbsolute(e)?e:i.default.join(process.cwd(),e),a.doesFileExists=e=>s.default.existsSync(a.getAbsolutePath(e))||!1,a.isDirectory=e=>{const t=a.getAbsolutePath(e);if(s.default.lstatSync(t).isDirectory())return!0;if(s.default.lstatSync(t).isFile())return!1;throw new n.FileTypeError(e)},a.deleteFile=e=>{const t=a.getAbsolutePath(e);s.default.rmSync(t)}},290:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtractError=t.CompressError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e){super("An error occured during compression",e)}}t.CompressError=s;class i extends o.CatchableError{constructor(e){super("An error occured during extraction",e)}}t.ExtractError=i},87:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtractError=t.CreateError=t.FirstArgError=t.CLISyntaxError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e,t,r){super(e,r),this.manEntries=t}}t.CLISyntaxError=s,t.FirstArgError=class extends s{constructor(e,t){super(`First argument '${e}' unrecognized`,["create","extract"],t)}},t.CreateError=class extends s{constructor(e,t){super(e,["create"],t)}},t.ExtractError=class extends s{constructor(e,t){super(e,["extract"],t)}}},327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CatchableError=void 0;class r extends Error{constructor(e,t){super(e),this.details=t}}t.CatchableError=r},186:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecryptError=t.EncryptError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e){super("An error occured during encryption",e)}}t.EncryptError=s;class i extends o.CatchableError{constructor(e){super("An error occured during decryption",e)}}t.DecryptError=i},5:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileTypeError=t.SaveFileError=t.FileAlreadyExistsError=t.FileNotFoundError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e,t){super(`File '${e}' can't be found`,t)}}t.FileNotFoundError=s;class i extends o.CatchableError{constructor(e){super(`File ${e} already exists`)}}t.FileAlreadyExistsError=i;class n extends o.CatchableError{constructor(e,t){super(`Problem saving ${e} `,t)}}t.SaveFileError=n;class a extends o.CatchableError{constructor(e,t){super(`Path '${e}' should reference a file or directory`,t)}}t.FileTypeError=a},22:e=>{e.exports=require("chalk")},416:e=>{e.exports=require("compressing")},726:e=>{e.exports=require("password-prompt")},113:e=>{e.exports=require("crypto")},147:e=>{e.exports=require("fs")},17:e=>{e.exports=require("path")},598:e=>{e.exports=JSON.parse('{"name":"bkp-node","version":"1.1.0","description":"A CLI tool to handle encrypted compressed backups of files or directory","keywords":["backup","archive","encrypt","cli"],"author":"Mike AUBENAS","license":"MIT","bin":{"bkp":"./bin/cli.js"},"files":["src","bin/cli.js"],"main":"src/Main.ts","repository":{"type":"git","url":"https://github.com/MikyStar/bkp-node"},"scripts":{"dev":"nodemon","start":"NODE_ENV=dev npm run build && node build/Main.js","build":"webpack-cli","make-binary":"./scripts/make-binary.sh","prepublishOnly":"npm run make-binary","security:audit":"npm audit --production --audit-level=moderate --registry=https://registry.npmjs.org","security:fix":"npm audit fix --production --audit-level=moderate --registry=https://registry.npmjs.org","dependencies:check":"ncu -e 2","dependencies:update":"ncu -u && npm run clear && npm install && npm run security:audit","clear":"rm -rf node_modules build bin"},"devDependencies":{"tslint":"^5.20.1","typescript":"^4.6.3"},"dependencies":{"@types/jest":"^28.1.4","@types/node":"^18.0.3","@types/prompts":"^2.0.14","chalk":"^4.1.2","compressing":"^1.6.0","dotenv":"^16.0.0","jest":"^28.1.2","password-prompt":"^1.1.2","ts-loader":"^9.2.9","ts-node":"^10.7.0","webpack":"^5.72.0","webpack-cli":"^4.9.2","webpack-node-externals":"^3.0.0"}}')}},t={},r=function r(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}(42);for(var o in r)this[o]=r[o];r.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUMsUUFBUSxvQixRQ0F6QkYsRUFBT0MsUUFBVUMsUUFBUSxXLFFDQXpCRixFQUFPQyxRQUFVQyxRQUFRLE8sT0NBekJGLEVBQU9DLFFBQVVDLFFBQVEsUyxvekNDQ3JCQyxFQUEyQixHQ0UzQkMsRURDSixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUosRUFBeUJHLEdBQzVDLFFBQXFCeEYsSUFBakJ5RixFQUNILE9BQU9BLEVBQWFOLFFBR3JCLElBQUlELEVBQVNHLEVBQXlCRyxHQUFZLENBR2pETCxRQUFTLElBT1YsT0FIQU8sRUFBb0JGLEdBQVVHLEtBQUtULEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVNJLEdBR3BFTCxFQUFPQyxRQ2xCV0ksQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL01haW4udHMiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvLi9zcmMvY29yZS9BcmNoaXZlLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2NvcmUvQXJnSGFuZGxlci50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9jb3JlL0VuY3J5cHRpb24udHMiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvLi9zcmMvY29yZS9IZWxwLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2NvcmUvUHJpbnRlci50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9jb3JlL1Byb21wdC50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9jb3JlL1N5c3RlbS50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9lcnJvcnMvQXJjaGl2ZUVycm9ycy50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9lcnJvcnMvQ0xJU3ludGF4RXJyb3JzLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2Vycm9ycy9DYXRjaGFibGVFcnJvci50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9lcnJvcnMvRW5jcnlwdGlvbkVycm9ycy50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9lcnJvcnMvRmlsZUVycm9ycy50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS9leHRlcm5hbCBjb21tb25qcyBcImNoYWxrXCIiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvZXh0ZXJuYWwgY29tbW9uanMgXCJjb21wcmVzc2luZ1wiIiwid2VicGFjazovL2JrcC1ub2RlL2V4dGVybmFsIGNvbW1vbmpzIFwicGFzc3dvcmQtcHJvbXB0XCIiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNyeXB0b1wiIiwid2VicGFjazovL2JrcC1ub2RlL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovL2JrcC1ub2RlL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4vY29yZS9TeXN0ZW0nXG5cbmltcG9ydCB7IEFjdGlvbiwgQXJnSGFuZGxlciB9IGZyb20gXCIuL2NvcmUvQXJnSGFuZGxlclwiO1xuaW1wb3J0IEhlbHAgZnJvbSAnLi9jb3JlL0hlbHAnO1xuaW1wb3J0IHsgcHJpbnRNZXNzYWdlLCBwcmludEVycm9yIH0gZnJvbSAnLi9jb3JlL1ByaW50ZXInO1xuXG5pbXBvcnQgeyBDYXRjaGFibGVFcnJvciB9IGZyb20gXCIuL2Vycm9ycy9DYXRjaGFibGVFcnJvclwiO1xuaW1wb3J0IHsgQ0xJU3ludGF4RXJyb3IgfSBmcm9tICcuL2Vycm9ycy9DTElTeW50YXhFcnJvcnMnO1xuaW1wb3J0IHsgQXJjaGl2ZSB9IGZyb20gJy4vY29yZS9BcmNoaXZlJztcbmltcG9ydCB7IEVuY3J5cHRpb24gfSBmcm9tICcuL2NvcmUvRW5jcnlwdGlvbic7XG5pbXBvcnQgeyBzZWNyZXRQcm9tcHQgfSBmcm9tICcuL2NvcmUvUHJvbXB0JztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBhcHAgPSBhc3luYyAoKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBhY3Rpb24sIHNvdXJjZVBhdGgsIGRlc3RQYXRoIH0gPSBuZXcgQXJnSGFuZGxlcigpXG5cblx0XHRjb25zdCBURU1QX0ZJTEUgPSAnLmFyY2hpdmUudGVtcCdcblxuXHRcdHN3aXRjaChhY3Rpb24pIHtcblx0XHRcdGNhc2UgQWN0aW9uLkNSRUFURToge1xuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ0NvbXByZXNzaW9uIC4uLicpXG5cdFx0XHRcdGF3YWl0IEFyY2hpdmUuY29tcHJlc3MoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aDogVEVNUF9GSUxFIH0pXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnZG9uZScpXG5cblx0XHRcdFx0cHJpbnRNZXNzYWdlKCcnKVxuXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnRW5jcnlwdGlvbiAuLi4nKVxuXHRcdFx0XHRjb25zdCBwYXNzd29yZCA9IGF3YWl0IHNlY3JldFByb21wdCgnUGFzc3dvcmQ6ICcpXG5cdFx0XHRcdGNvbnN0IGl2ID0gYXdhaXQgRW5jcnlwdGlvbi5lbmNyeXB0KHsgc291cmNlUGF0aDogVEVNUF9GSUxFLCBkZXN0UGF0aCxcblx0XHRcdFx0XHRwYXNzd29yZCB9KVxuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ2RvbmUnKVxuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ0hlcmUgaXMgeW91ciBpbml0aWFsaXphdGlvbiB2ZWN0b3IsIHlvdSBtdXN0IHN0b3JlIGl0IGFzIGl0IGlzIHJlcXVpcmVkIHRvIGRlY3J5cHQnLCAncmVkJylcblx0XHRcdFx0cHJpbnRNZXNzYWdlKFsgJycsIGl2LCAnJyBdKVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBBY3Rpb24uRVhUUkFDVDoge1xuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ0RlY3J5cHRpb24gLi4uJylcblx0XHRcdFx0Y29uc3QgcGFzc3dvcmQgPSBhd2FpdCBzZWNyZXRQcm9tcHQoJ1Bhc3N3b3JkOiAnKVxuXHRcdFx0XHRjb25zdCBpbml0aWFsaXphdGlvblZlY3RvciA9IGF3YWl0IHNlY3JldFByb21wdCgnSW5pdGlhbGl6YXRpb24gdmVjdG9yOiAnKVxuXHRcdFx0XHRhd2FpdCBFbmNyeXB0aW9uLmRlY3J5cHQoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aDogVEVNUF9GSUxFLFxuXHRcdFx0XHRcdHBhc3N3b3JkLCBpbml0aWFsaXphdGlvblZlY3RvciB9KVxuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ2RvbmUnKVxuXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnRXh0cmFjdGlvbiAuLi4nKVxuXHRcdFx0XHRhd2FpdCBBcmNoaXZlLmV4dHJhY3QoeyBzb3VyY2VQYXRoOiBURU1QX0ZJTEUsIGRlc3RQYXRoIH0pXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnZG9uZScpXG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0U3lzdGVtLmRlbGV0ZUZpbGUoVEVNUF9GSUxFKVxuXG5cdFx0U3lzdGVtLmV4aXQoIDAgKVxuXHR9XG5cdGNhdGNoKCBlcnJvciApXG5cdHtcblx0XHRpZiggISggZXJyb3IgaW5zdGFuY2VvZiBDYXRjaGFibGVFcnJvciApIClcblx0XHRcdGNvbnNvbGUuZXJyb3IoIGVycm9yIClcblx0XHRlbHNlIHtcblx0XHRcdGlmKCBlcnJvciBpbnN0YW5jZW9mIENMSVN5bnRheEVycm9yIClcblx0XHRcdHtcblx0XHRcdFx0Y29uc3QgeyBtZXNzYWdlLCBtYW5FbnRyaWVzLCBkZXRhaWxzIH0gPSBlcnJvclxuXG5cdFx0XHRcdHByaW50RXJyb3IoW21lc3NhZ2UsIGRldGFpbHNdKVxuXG5cdFx0XHRcdG1hbkVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiBwcmludE1lc3NhZ2UoIFsgJycsIC4uLkhlbHAuZ2V0TWFuKCBlbnRyeSApXSApKVxuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRwcmludEVycm9yKCBlcnJvci5tZXNzYWdlIClcblx0XHR9XG5cblx0XHRTeXN0ZW0uZXhpdCggLTEgKVxuXHR9XG59XG5cbmFwcCgpIiwiaW1wb3J0IGNvbXByZXNzaW5nIGZyb20gJ2NvbXByZXNzaW5nJ1xuaW1wb3J0IHsgQ29tcHJlc3NFcnJvciwgRXh0cmFjdEVycm9yIH0gZnJvbSAnLi4vZXJyb3JzL0FyY2hpdmVFcnJvcnMnXG5pbXBvcnQgeyBBUkNISVZFX0FMR08gfSBmcm9tICcuL0FyZ0hhbmRsZXInXG5cbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuL1N5c3RlbVwiXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW50ZXJmYWNlIEFyZ3Mge1xuXHRzb3VyY2VQYXRoOiBzdHJpbmdcblx0ZGVzdFBhdGg6IHN0cmluZ1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFyY2hpdmVcbntcblx0ZXhwb3J0IGNvbnN0IGNvbXByZXNzID0gYXN5bmMgKHsgc291cmNlUGF0aCwgZGVzdFBhdGggfTogQXJncykgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIFN5c3RlbS5pc0RpcmVjdG9yeShzb3VyY2VQYXRoKSApXG5cdFx0XHRcdGF3YWl0IGNvbXByZXNzaW5nW0FSQ0hJVkVfQUxHT10uY29tcHJlc3NEaXIoc291cmNlUGF0aCwgZGVzdFBhdGgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGF3YWl0IGNvbXByZXNzaW5nW0FSQ0hJVkVfQUxHT10uY29tcHJlc3NGaWxlKHNvdXJjZVBhdGgsIGRlc3RQYXRoKVxuXHRcdH1cblx0XHRjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZSlcblx0XHRcdHRocm93IG5ldyBDb21wcmVzc0Vycm9yKGUpXG5cdFx0fVxuXHR9XG5cblx0ZXhwb3J0IGNvbnN0IGV4dHJhY3QgPSBhc3luYyAoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aCB9OiBBcmdzKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGNvbXByZXNzaW5nW0FSQ0hJVkVfQUxHT10udW5jb21wcmVzcyhzb3VyY2VQYXRoLCBkZXN0UGF0aClcblx0XHR9XG5cdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBFeHRyYWN0RXJyb3IoZSlcblx0XHR9XG5cdH1cbn0iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi9TeXN0ZW1cIlxuXG5pbXBvcnQgeyBGaXJzdEFyZ0Vycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy9DTElTeW50YXhFcnJvcnNcIlxuaW1wb3J0IHsgRmlsZUFscmVhZHlFeGlzdHNFcnJvciwgRmlsZU5vdEZvdW5kRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL0ZpbGVFcnJvcnNcIlxuaW1wb3J0IHsgcHJpbnRNZXNzYWdlIH0gZnJvbSBcIi4vUHJpbnRlclwiXG5pbXBvcnQgSGVscCwgeyBERUZBVUxUX0NSRUFURV9FWFRFTlNJT04sIERFRkFVTFRfRVhUUkFDVF9FWFRFTlNJT04gfSBmcm9tIFwiLi9IZWxwXCJcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGVudW0gQWN0aW9uIHtcblx0Q1JFQVRFID0gJ2MnLFxuXHRFWFRSQUNUID0gJ3gnXG59XG5cbmV4cG9ydCBjb25zdCBBUkNISVZFX0FMR08gPSAndGd6J1xuZXhwb3J0IGNvbnN0IEVOQ1JZUFRJT05fQUxHTyA9ICdhZXMtMjU2LWNiYydcblxuXG5leHBvcnQgZW51bSBGbGFnIHtcblx0SEVMUCA9ICctLWhlbHAnLFxuXHRWRVJTSU9OID0gJy0tdmVyc2lvbicsXG59XG5cbmludGVyZmFjZSBBcmdPY2N1cmFuY2Vcbntcblx0YXJnOiBzdHJpbmdcblx0aW5kZXg6IG51bWJlclxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLyAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgQXJnSGFuZGxlciB7XG5cdHByaXZhdGUgYXJnczogc3RyaW5nW11cblxuXHRhY3Rpb246IEFjdGlvblxuXG5cdHNvdXJjZVBhdGg6IHN0cmluZ1xuXHRkZXN0UGF0aDogc3RyaW5nXG5cblx0aXNIZWxwTmVlZGVkOiBib29sZWFuXG5cdGlzVmVyc2lvbjogYm9vbGVhblxuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuYXJncyA9IHByb2Nlc3MuYXJndi5zbGljZSggMiApXG5cblx0XHQvLyBGbGFncyBzaG91bGQgYmUgaGFuZGxlZCBiZWZvcmUgcG9zaXRpb25hbCBhcmdzXG5cdFx0dGhpcy5pc1ZlcnNpb24gPSB0aGlzLnNlYXJjaEZsYWcoWyAnLXYnLCBGbGFnLlZFUlNJT04gXSlcblx0XHR0aGlzLmlzSGVscE5lZWRlZCA9IHRoaXMuc2VhcmNoRmxhZyhbICctaCcsIEZsYWcuSEVMUCBdKVxuXG5cdFx0aWYodGhpcy5pc1ZlcnNpb24pIHtcblx0XHRcdHByaW50TWVzc2FnZShIZWxwLnZlcnNpb24pXG5cdFx0XHRTeXN0ZW0uZXhpdCgwKVxuXHRcdH1cblxuXHRcdGlmKHRoaXMuaXNIZWxwTmVlZGVkIHx8IHRoaXMuYXJnc1swXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRwcmludE1lc3NhZ2UoSGVscC5mdWxsTWFuKCkpXG5cdFx0XHRTeXN0ZW0uZXhpdCgwKVxuXHRcdH1cblxuXHRcdHRoaXMuc2V0QWN0aW9uKHRoaXMuYXJnc1swXSlcblx0XHR0aGlzLnNldFNvdXJjZSh0aGlzLmFyZ3NbMV0pXG5cdFx0dGhpcy5zZXREZXN0KHRoaXMuYXJnc1syXSlcblx0fVxuXG5cdHByaXZhdGUgc2V0QWN0aW9uID0gKGFyZzogc3RyaW5nKSA9PiB7XG5cdFx0Y29uc3QgYWxsb3dlZENyZWF0ZSA9IFsnY3JlYXRlJywgQWN0aW9uLkNSRUFURV1cblx0XHRjb25zdCBhbGxvd2VkRXh0cmFjdCA9IFsnZXh0cmFjdCcsIEFjdGlvbi5FWFRSQUNUXVxuXG5cdFx0aWYoYWxsb3dlZENyZWF0ZS5pbmNsdWRlcyhhcmcpKVxuXHRcdFx0dGhpcy5hY3Rpb24gPSAgQWN0aW9uLkNSRUFURVxuXHRcdGVsc2UgaWYoYWxsb3dlZEV4dHJhY3QuaW5jbHVkZXMoYXJnKSlcblx0XHRcdHRoaXMuYWN0aW9uID0gIEFjdGlvbi5FWFRSQUNUXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IEZpcnN0QXJnRXJyb3IoYXJnKVxuXHR9XG5cblx0cHJpdmF0ZSBzZXRTb3VyY2UgPSAoYXJnOiBzdHJpbmcpID0+IHtcblx0XHRpZiggIVN5c3RlbS5kb2VzRmlsZUV4aXN0cyhhcmcpIClcblx0XHRcdHRocm93IG5ldyBGaWxlTm90Rm91bmRFcnJvcihhcmcpXG5cblx0XHR0aGlzLnNvdXJjZVBhdGggPSBhcmdcblx0fVxuXG5cdHByaXZhdGUgc2V0RGVzdCA9IChhcmc6IHN0cmluZykgPT4ge1xuXHRcdGxldCBwYXRoID0gJydcblxuXHRcdGlmKHRoaXMuYWN0aW9uID09PSBBY3Rpb24uQ1JFQVRFKVxuXHRcdFx0cGF0aCA9IGFyZyB8fCB0aGlzLnNvdXJjZVBhdGggKyBERUZBVUxUX0NSRUFURV9FWFRFTlNJT05cblx0XHRlbHNlIHtcblx0XHRcdGlmKGFyZylcblx0XHRcdFx0cGF0aCA9IGFyZ1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgJHtERUZBVUxUX0NSRUFURV9FWFRFTlNJT059JGApO1xuXG5cdFx0XHRcdGlmIChyZWdleC50ZXN0KHRoaXMuc291cmNlUGF0aCkpXG5cdFx0XHRcdFx0cGF0aCA9IHRoaXMuc291cmNlUGF0aC5zcGxpdChERUZBVUxUX0NSRUFURV9FWFRFTlNJT04pWzBdXG5cblx0XHRcdFx0cGF0aCA9IHRoaXMuc291cmNlUGF0aCArIERFRkFVTFRfRVhUUkFDVF9FWFRFTlNJT05cblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdGlmKCBTeXN0ZW0uZG9lc0ZpbGVFeGlzdHMocGF0aCkgKVxuXHRcdFx0dGhyb3cgbmV3IEZpbGVBbHJlYWR5RXhpc3RzRXJyb3IocGF0aClcblxuXHRcdHRoaXMuZGVzdFBhdGggPSBwYXRoXG5cdH1cblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdHByaXZhdGUgc2VhcmNoRmxhZyA9IChmbGFnV3JpdHRpbmdzOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuXHRcdGNvbnN0IG9jY3VyYW5jZXMgPSB0aGlzLmV4dHJhY3RPY2N1cmFuY2VzKGFyZyA9PiBmbGFnV3JpdHRpbmdzLmluY2x1ZGVzKGFyZykpXG5cblx0XHRyZXR1cm4gb2NjdXJhbmNlcyAhPT0gdW5kZWZpbmVkXG5cdH1cblxuXHQvKipcblx0ICogRmluZCBvY2N1cmFuY2VzIGluIGlucHV0IG9yZGVyIHdpdGggdGhlaXIgcG9zaXRpb24gdGhhdCBtYXRoIHRoZSBjYWxsYmFjayxcblx0ICogcmV0dXJucyB0aGVtIGFuZCBkZWxldGUgdGhlbSBmcm9tIHRoZSB1bnRyZWF0ZWRBcmdzIGFycmF5XG5cdCAqIElmIG5vbmUgZmluZCwgcmV0dXJucyB1bmRlZmluZWRcblx0ICovXG5cdHByaXZhdGUgZXh0cmFjdE9jY3VyYW5jZXMgPSAoY2FsbGJhY2sgOiAoYXJnOiBzdHJpbmcsIGluZGV4ID86IG51bWJlcikgPT4gYm9vbGVhbiApOiBBcmdPY2N1cmFuY2VbXSB8IHVuZGVmaW5lZCA9PlxuXHR7XG5cdFx0Y29uc3Qgb2NjdXJhbmNlczogQXJnT2NjdXJhbmNlW10gPSBbXVxuXG5cdFx0dGhpcy5hcmdzLmZvckVhY2goKGFyZywgaW5kZXgpID0+IHtcblx0XHRcdGlmKGNhbGxiYWNrKGFyZywgaW5kZXgpKVxuXHRcdFx0XHRvY2N1cmFuY2VzLnB1c2goeyBhcmcsIGluZGV4IH0pXG5cdFx0fSlcblxuXHRcdGlmKCBvY2N1cmFuY2VzLmxlbmd0aCA9PT0gMCApXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkXG5cblx0XHQvKiogQHNlZTogaHR0cHM6Ly93d3cuY29kZWdyZXBwZXIuY29tL2NvZGUtZXhhbXBsZXMvamF2YXNjcmlwdC9hcnJheStzcGxpY2UraW4rZm9yK2xvb3AramF2YXNjcmlwdCAqL1xuXHRcdGZvciAobGV0IGkgPSBvY2N1cmFuY2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuXHRcdFx0dGhpcy5hcmdzLnNwbGljZShvY2N1cmFuY2VzWyBpIF0uaW5kZXgsIDEpO1xuXG5cdFx0cmV0dXJuIG9jY3VyYW5jZXNcblx0fVxufSIsImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHsgRGVjcnlwdEVycm9yLCBFbmNyeXB0RXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvRW5jcnlwdGlvbkVycm9ycyc7XG5pbXBvcnQgeyBFTkNSWVBUSU9OX0FMR08gfSBmcm9tICcuL0FyZ0hhbmRsZXInO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmludGVyZmFjZSBBcmdzIHtcblx0c291cmNlUGF0aDogc3RyaW5nXG5cdGRlc3RQYXRoOiBzdHJpbmdcblxuXHRwYXNzd29yZDogc3RyaW5nXG59XG5cbmNvbnN0IFNBTFQgPSAndXNlbGVzcyBzYWx0J1xuXG5leHBvcnQgbmFtZXNwYWNlIEVuY3J5cHRpb25cbntcblx0ZXhwb3J0IGNvbnN0IGVuY3J5cHQgPSBhc3luYyAoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aCwgcGFzc3dvcmQgfTogQXJncyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnN0IGlucHV0ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShzb3VyY2VQYXRoKTtcblx0XHRcdGNvbnN0IG91dHB1dCA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGRlc3RQYXRoKTtcblxuXHRcdFx0Y29uc3Qga2V5ID0gY3J5cHRvLnNjcnlwdFN5bmMocGFzc3dvcmQsIFNBTFQsIDMyKTtcblx0XHRcdGNvbnN0IGluaXRpYWxpemF0aW9uVmVjdG9yID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KVxuXG5cdFx0XHRjb25zdCBjaXBoZXIgPSBjcnlwdG8uY3JlYXRlQ2lwaGVyaXYoRU5DUllQVElPTl9BTEdPLCBrZXksIGluaXRpYWxpemF0aW9uVmVjdG9yKTtcblxuXHRcdFx0aW5wdXQucGlwZShjaXBoZXIpLnBpcGUob3V0cHV0KTtcblxuXHRcdFx0b3V0cHV0Lm9uKCdmaW5pc2gnLCAoKSA9PiByZXNvbHZlKGluaXRpYWxpemF0aW9uVmVjdG9yLnRvU3RyaW5nKCdoZXgnKSkpO1xuXG5cdFx0XHRvdXRwdXQub24oJ2Vycm9yJywgKCkgPT4gcmVqZWN0KG5ldyBFbmNyeXB0RXJyb3IoKSkgKTtcblx0XHR9KVxuXHR9XG5cblx0ZXhwb3J0IGNvbnN0IGRlY3J5cHQgPSBhc3luYyAoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aCwgcGFzc3dvcmQsIGluaXRpYWxpemF0aW9uVmVjdG9yIH06IEFyZ3MgJiB7IGluaXRpYWxpemF0aW9uVmVjdG9yOiBzdHJpbmcgfSkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRjb25zdCBpbnB1dCA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oc291cmNlUGF0aCk7XG5cdFx0XHRjb25zdCBvdXRwdXQgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShkZXN0UGF0aCk7XG5cblx0XHRcdGNvbnN0IGtleSA9IGNyeXB0by5zY3J5cHRTeW5jKHBhc3N3b3JkLCBTQUxULCAzMik7XG5cdFx0XHRjb25zdCBpdiA9IEJ1ZmZlci5mcm9tKGluaXRpYWxpemF0aW9uVmVjdG9yLCAnaGV4JylcblxuXHRcdFx0Y29uc3QgY2lwaGVyID0gY3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYoRU5DUllQVElPTl9BTEdPLCBrZXksIGl2KTtcblxuXHRcdFx0aW5wdXQucGlwZShjaXBoZXIpLnBpcGUob3V0cHV0KTtcblxuXHRcdFx0b3V0cHV0Lm9uKCdmaW5pc2gnLCAoKSA9PiByZXNvbHZlKHRydWUpKTtcblxuXHRcdFx0b3V0cHV0Lm9uKCdlcnJvcicsICgpID0+IHJlamVjdChuZXcgRGVjcnlwdEVycm9yKCkpICk7XG5cdFx0fSlcblx0fVxufSIsImltcG9ydCBjaGFsayBmcm9tIFwiY2hhbGtcIlxuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgcGtnIGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbidcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi9jb3JlL0FyZ0hhbmRsZXJcIlxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmludGVyZmFjZSBNYW5QYWdlXG57XG5cdHRpdGxlID86IHN0cmluZ1xuXHRwcm90b3R5cGUgPzogc3RyaW5nXG5cdGFyZ0RlZiA/OiBzdHJpbmdbXVxuXHRmdXJ0aGVyRGVzY3JpcHRpb24gPzogc3RyaW5nW11cblx0Zm9vdGVyID86IGJvb2xlYW5cblx0ZXhhbXBsZXMgPzogc3RyaW5nW11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYW5FbnRyaWVzXG57XG5cdGNyZWF0ZTogTWFuUGFnZVxuXHRleHRyYWN0OiBNYW5QYWdlXG59XG5cbnR5cGUgTWFuRW50cnlLZXkgPSBrZXlvZiBNYW5FbnRyaWVzXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NSRUFURV9FWFRFTlNJT04gPSAnLmJrcCdcbmV4cG9ydCBjb25zdCBERUZBVUxUX0VYVFJBQ1RfRVhURU5TSU9OID0gJy5kZWMnXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBFeHBvc2UgbGluZXMgb2YgZGVjb3JhdGVkIHRleHQgYXMgYXJyYXkgZm9yIGhlbHAgZmxhZ1xuICovXG5jbGFzcyBIZWxwIGltcGxlbWVudHMgTWFuRW50cmllc1xue1xuXHRwcml2YXRlIGhlYWRlcjogc3RyaW5nW11cblx0cHJpdmF0ZSBmb290ZXI6IHN0cmluZ1tdXG5cblx0dmVyc2lvbjogc3RyaW5nW11cblxuXHRjcmVhdGU6IE1hblBhZ2U7XG5cdGV4dHJhY3Q6IE1hblBhZ2U7XG5cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRjb25zdCB7IGJvbGQgfSA9IGNoYWxrXG5cblx0XHR0aGlzLmhlYWRlciA9XG5cdFx0W1xuXHRcdFx0JycsXG5cdFx0XHRgQ3JlYXRlIGFuZCBleHRyYWN0IGJhY2t1cHMgb2YgYSBmaWxlIG9yIGRpcmVjdG9yeSBjb21wcmVzc2VkIHdpdGggJHtjaGFsay5ib2xkKCd0Z3onKX0gYW5kIGVuY3J5cHRlZGAsXG5cdFx0XHRgd2l0aCAke2NoYWxrLmJvbGQoJ2Flcy0yNTYtY2JjJyl9IHdpdGggYm90aCB5b3VyIHBhc3N3b3JkIGFuZCBhIGdlbmVyYXRlZCBpbml0aWFsaXphdGlvbiB2ZWN0b3JgLFxuXHRcdFx0JycsXG5cdFx0XHQnLS0tLS0nLFxuXHRcdFx0JycsXG5cdFx0XVxuXG5cdFx0dGhpcy5mb290ZXIgPVxuXHRcdFtcblx0XHRcdCcnLFxuXHRcdFx0Jy0tLS0tJyxcblx0XHRcdGAkeyBib2xkKCBwa2cubmFtZSApIH06ICR7IHBrZy5kZXNjcmlwdGlvbiB9YCxcblx0XHRcdGBWZXJzaW9uOiAkeyBib2xkKCBwa2cudmVyc2lvbiApIH1gLFxuXHRcdFx0YE1vcmUgaW5mb3JtYXRpb25zIGFuZCBleGFtcGxlcyBhdCAkeyBib2xkKCBwa2cucmVwb3NpdG9yeS51cmwgKX1gXG5cdFx0XVxuXG5cdFx0Ly8vLy8vLy8vL1xuXG5cdFx0dGhpcy52ZXJzaW9uID0gWyBgJHsgcGtnLnZlcnNpb24gfWAgXVxuXG5cdFx0dGhpcy5jcmVhdGUgPVxuXHRcdHtcblx0XHRcdHRpdGxlOiBgQ3JlYXRlIGEgY29tcHJlc3NlZCwgZW5jcnlwdGVkIGJhY2t1cGAsXG5cdFx0XHRwcm90b3R5cGU6ICdia3AgPGN8Y3JlYXRlPiA8c291cmNlIHBhdGg+IFs8ZGVzdGluYXRpb24gcGF0aD5dJyxcblx0XHRcdGFyZ0RlZjpcblx0XHRcdFtcblx0XHRcdFx0YDxzb3VyY2UgcGF0aD4gOiBBYnNvbHV0ZSBvciByZWxhdGl2ZSBwYXRoIHRvIHdoYXQgeW91IHdhbnQgdG8gYmFja3VwYCxcblx0XHRcdFx0J1s8ZGVzdGluYXRpb24gcGF0aD5dIDogT3B0aW9uYWwsIGFic29sdXRlIG9yIHJlbGF0aXZlIHBhdGggdG8gd2hlcmUgeW91IHdhbnQgeW91cicsXG5cdFx0XHRcdGAgICAgICAgICAgICAgICAgICAgICAgIGJhY2t1cCBmaWxlICR7Y2hhbGsuYm9sZChgZGVmYXVsdDogJyR7REVGQVVMVF9DUkVBVEVfRVhURU5TSU9OfSdgKX1gLFxuXHRcdFx0XSxcblx0XHRcdGZ1cnRoZXJEZXNjcmlwdGlvbjpcblx0XHRcdFtcblx0XHRcdFx0J0l0IHdpbGwgdGhlbiBwcm9tcHQgeW91IGZvciB0aGUgcGFzc3dvcmQgeW91IHdhbnQgdG8gc2V0Jyxcblx0XHRcdFx0YEFmdGVyIGVuY3J5cHRpb24sIGEgaW5pdGlhbGl6YXRpb24gdmVjdG9yIHdpbGwgYmUgb3V0cHV0ZWQsICR7IGNoYWxrLmJvbGQucmVkKCd5b3UgbXVzdCBzdG9yZSBpdCBpbiBvcmRlciB0byBkZWNyeXB0IGFmdGVyd2FyZHMnKSB9YFxuXHRcdFx0XVxuXHRcdH1cblxuXHRcdHRoaXMuZXh0cmFjdCA9XG5cdFx0e1xuXHRcdFx0dGl0bGU6IGBFeHRyYWN0IHRoZSBjb250ZW50IG9mIGEgYmFja3VwYCxcblx0XHRcdHByb3RvdHlwZTogJ2JrcCA8eHxleHRyYWN0PiA8c291cmNlIHBhdGg+IFs8ZGVzdGluYXRpb24gcGF0aD5dJyxcblx0XHRcdGFyZ0RlZjpcblx0XHRcdFtcblx0XHRcdFx0YDxzb3VyY2UgcGF0aD4gOiBBYnNvbHV0ZSBvciByZWxhdGl2ZSBwYXRoIHRvIHlvdXIgYmFja3VwIGxvY2F0aW9uYCxcblx0XHRcdFx0J1s8ZGVzdGluYXRpb24gcGF0aD5dIDogT3B0aW9uYWwsIGFic29sdXRlIG9yIHJlbGF0aXZlIHBhdGggdG8gd2hlcmUgeW91IHdhbnQgeW91ciBjbGVhciBjb250ZW50LCcsXG5cdFx0XHRcdFwiICAgICAgICAgICAgICAgICAgICAgICBpZiB5b3UgaGF2ZSB1c2VkIHRoZSBkZWZhdWx0ICcuYmtwJyBleHRlbnNpb24gaXQgd2lsbCBiZSB0cmltbWVkLCBvdGhlcndpc2UgaXQgd2lsbCBhcHBlbmQgXCIsXG5cdFx0XHRcdGAgICAgICAgICAgICAgICAgICAgICAgIHRoZSAke2NoYWxrLmJvbGQoYHByZWZpeDogJyR7REVGQVVMVF9FWFRSQUNUX0VYVEVOU0lPTn0nYCl9YCxcblx0XHRcdF0sXG5cdFx0XHRmdXJ0aGVyRGVzY3JpcHRpb246XG5cdFx0XHRbXG5cdFx0XHRcdCdJdCB3aWxsIHRoZW4gcHJvbXB0IHlvdSBmb3IgdGhlIHBhc3N3b3JkIHlvdSBoYXZlIHNldCcsXG5cdFx0XHRcdGBUaGVuLCB5b3UgcHJvdmlkZSB0aGUgaW5pdGlhbGl6YXRpb24gdmVjdG9yIHRoYXQgd2FzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGJhY2t1cCBjcmVhdGlvbmBcblx0XHRcdF1cblx0XHR9XG5cdH1cblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdGdldE1hbiA9ICggYWN0aW9uOiBNYW5FbnRyeUtleSApID0+IHRoaXMubWFrZU1hbiggeyAuLi50aGlzWyBhY3Rpb24gXSwgZm9vdGVyOiB0cnVlIH0gKVxuXG5cdGZ1bGxNYW4gPSAoKSA9PlxuXHR7XG5cdFx0bGV0IHRvUmV0dXJuOiBzdHJpbmdbXSA9IFtdXG5cblx0XHRjb25zdCBlbnRyaWVzOiBNYW5FbnRyeUtleVtdID0gWydjcmVhdGUnLCAnZXh0cmFjdCddXG5cblx0XHRlbnRyaWVzLmZvckVhY2goIGVudHJ5ID0+XG5cdFx0e1xuXHRcdFx0Y29uc3QgbWFuID0gdGhpcy5tYWtlTWFuKHsgLi4udGhpc1sgZW50cnkgXSwgZm9vdGVyOiBmYWxzZSB9KVxuXHRcdFx0dG9SZXR1cm4gPSBbIC4uLnRvUmV0dXJuLCAuLi5tYW4sICcnLCAnLS0tLS0nLCAnJyBdXG5cdFx0fSk7XG5cblx0XHRyZXR1cm5cdFtcblx0XHRcdFx0XHQuLi50aGlzLmhlYWRlcixcblx0XHRcdFx0XHQuLi50b1JldHVybixcblx0XHRcdFx0XHQuLi50aGlzLmZvb3RlclxuXHRcdFx0XHRdXG5cdH1cblxuXHRoYW5kbGVBY3Rpb24gPSAoIGFjdGlvbjogQWN0aW9uICkgPT5cblx0e1xuXHRcdGxldCB0b1JldHVybjogc3RyaW5nW10gPSBbXVxuXG5cdFx0c3dpdGNoKCBhY3Rpb24gKVxuXHRcdHtcblx0XHRcdGNhc2UgQWN0aW9uLkNSRUFURTpcblx0XHRcdFx0dG9SZXR1cm4gPSB0aGlzLmdldE1hbiggJ2NyZWF0ZScgKVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgQWN0aW9uLkVYVFJBQ1Q6XG5cdFx0XHRcdHRvUmV0dXJuID0gdGhpcy5nZXRNYW4oICdleHRyYWN0JyApXG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHJldHVybiB0b1JldHVyblxuXHR9XG5cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXHRwcml2YXRlIG1ha2VNYW4gPSAoIG1hblBhZ2UgOiBNYW5QYWdlICkgPT5cblx0e1xuXHRcdGNvbnN0IHsgYm9sZCwgdW5kZXJsaW5lIH0gPSBjaGFsa1xuXG5cdFx0bGV0IHRvUmV0dXJuIDogc3RyaW5nW10gPSBbXVxuXG5cdFx0aWYoIG1hblBhZ2UudGl0bGUgKVxuXHRcdFx0dG9SZXR1cm4gPSBbIC4uLnRvUmV0dXJuLCB1bmRlcmxpbmUoIG1hblBhZ2UudGl0bGUgKSwgJycgXVxuXG5cdFx0aWYoIG1hblBhZ2UucHJvdG90eXBlIClcblx0XHRcdHRvUmV0dXJuID0gWyAuLi50b1JldHVybiwgYm9sZCggbWFuUGFnZS5wcm90b3R5cGUgKSwgJycgXVxuXG5cdFx0aWYoIG1hblBhZ2UuYXJnRGVmIClcblx0XHRcdHRvUmV0dXJuID0gWyAuLi50b1JldHVybiwgLi4ubWFuUGFnZS5hcmdEZWYgXVxuXG5cdFx0aWYoIG1hblBhZ2UuZnVydGhlckRlc2NyaXB0aW9uIClcblx0XHRcdHRvUmV0dXJuID0gWyAuLi50b1JldHVybiwgJycgLCAuLi5tYW5QYWdlLmZ1cnRoZXJEZXNjcmlwdGlvbiBdXG5cblx0XHRpZiggbWFuUGFnZS5leGFtcGxlcyApXG5cdFx0XHR0b1JldHVybiA9IFsgLi4udG9SZXR1cm4sICcnICwgdW5kZXJsaW5lKCAnRXhhbXBsZXMgOicgKSwgJycsIC4uLm1hblBhZ2UuZXhhbXBsZXMgXVxuXG5cdFx0cmV0dXJuIHRvUmV0dXJuXG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgZGVmYXVsdCBuZXcgSGVscCgpIiwiaW1wb3J0IGNoYWxrLCB7ICB9IGZyb20gJ2NoYWxrJ1xuXG50eXBlIENvbG9yID0gJ3JlZCcgfCAnZ3JlZW4nXG5cbmV4cG9ydCBjb25zdCBwcmludE1lc3NhZ2UgPSAoIG1lc3NhZ2UgOiBzdHJpbmcgfCBzdHJpbmdbXSwgY2hhbGtDb2xvciA/OiBDb2xvciApID0+XG57XG5cdGlmKCAoIG1lc3NhZ2UgPT09ICcnICkgfHwgKCBtZXNzYWdlID09PSBbXSApIClcblx0XHRyZXR1cm5cblxuXHRtZXNzYWdlID0gQXJyYXkuaXNBcnJheSggbWVzc2FnZSApID8gbWVzc2FnZSA6IFsgbWVzc2FnZSBdXG5cblx0bWVzc2FnZS5mb3JFYWNoKCBsaW5lID0+XG5cdHtcblx0XHRsZXQgdGV4dCA9IGxpbmVcblx0XHR0ZXh0ID0gY2hhbGtDb2xvciA/IGNoYWxrWyBjaGFsa0NvbG9yICBdKCB0ZXh0ICkgOiB0ZXh0XG5cblx0XHRjb25zb2xlLmxvZyggdGV4dCApXG5cdH0pXG59XG5cbmV4cG9ydCBjb25zdCBwcmludEVycm9yID0gKCBtZXNzYWdlOiBzdHJpbmcgfCBzdHJpbmdbXSApID0+IHByaW50TWVzc2FnZSggbWVzc2FnZSwgJ3JlZCcgKSIsImltcG9ydCBwcm9tcHQgZnJvbSAncGFzc3dvcmQtcHJvbXB0J1xuXG5leHBvcnQgY29uc3Qgc2VjcmV0UHJvbXB0ID0gYXN5bmMgKCB0aXRsZTogc3RyaW5nICk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG5cdHJldHVybiBhd2FpdCBwcm9tcHQoIHRpdGxlLCB7IG1ldGhvZDogJ2hpZGUnIH0gKVxufSIsImltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmltcG9ydCB7IEZpbGVUeXBlRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL0ZpbGVFcnJvcnNcIjtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgbmFtZXNwYWNlIFN5c3RlbSB7XG5cdGV4cG9ydCBjb25zdCBleGl0ID0gKGNvZGUgPSAwKSA9PiBwcm9jZXNzLmV4aXQoY29kZSk7XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYXMgaXMgaWYgaXQncyBhbHJlYWR5IGFic29sdXRlLCBvdGhlcndpc2UgbWFrZSBpdCBhYnNvbHV0ZVxuXHQgKi9cblx0ZXhwb3J0IGNvbnN0IGdldEFic29sdXRlUGF0aCA9IChmaWxlUGF0aDogc3RyaW5nKSA9PlxuXHRcdHBhdGguaXNBYnNvbHV0ZShmaWxlUGF0aClcblx0XHRcdD8gZmlsZVBhdGhcblx0XHRcdDogcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIGZpbGVQYXRoKTtcblxuXHRleHBvcnQgY29uc3QgZG9lc0ZpbGVFeGlzdHMgPSAocGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PlxuXHRcdGZzLmV4aXN0c1N5bmMoZ2V0QWJzb2x1dGVQYXRoKHBhdGgpKSB8fCBmYWxzZTtcblxuXHRleHBvcnQgY29uc3QgaXNEaXJlY3RvcnkgPSAocGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG5cdFx0Y29uc3QgYWJzUGF0aCA9IGdldEFic29sdXRlUGF0aChwYXRoKTtcblxuXHRcdC8qKiBmcy5sc3RhdFN5bmMoYWJzUGF0aCkgY2FuIG5vdCBiZSBkZXN0cnVjdHVyZWQgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9oZWxwL2lzc3Vlcy8zNzEzICovXG5cblx0XHRpZiAoZnMubHN0YXRTeW5jKGFic1BhdGgpLmlzRGlyZWN0b3J5KCkpIHJldHVybiB0cnVlO1xuXG5cdFx0aWYgKGZzLmxzdGF0U3luYyhhYnNQYXRoKS5pc0ZpbGUoKSkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0dGhyb3cgbmV3IEZpbGVUeXBlRXJyb3IocGF0aCk7XG5cdH07XG5cblx0ZXhwb3J0IGNvbnN0IGRlbGV0ZUZpbGUgPSAocGF0aDogc3RyaW5nKSA9PiB7XG5cdFx0Y29uc3QgYWJzUGF0aCA9IGdldEFic29sdXRlUGF0aChwYXRoKTtcblxuXHRcdGZzLnJtU3luYyhhYnNQYXRoKVxuXHR9XG59XG4iLCJpbXBvcnQgeyBDYXRjaGFibGVFcnJvciB9IGZyb20gJy4vQ2F0Y2hhYmxlRXJyb3InO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBDb21wcmVzc0Vycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoZXJyb3IgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBgQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgY29tcHJlc3Npb25gLCBlcnJvciApXG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgRXh0cmFjdEVycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGVycm9yID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYEFuIGVycm9yIG9jY3VyZWQgZHVyaW5nIGV4dHJhY3Rpb25gLCBlcnJvciApXG5cdH1cbn1cbiIsImltcG9ydCB7IENhdGNoYWJsZUVycm9yIH0gZnJvbSAnLi9DYXRjaGFibGVFcnJvcic7XG5cbmltcG9ydCB7IE1hbkVudHJpZXMgfSBmcm9tICcuLi9jb3JlL0hlbHAnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbnR5cGUgRW50cmllcyA9ICBrZXlvZiBNYW5FbnRyaWVzXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5leHBvcnQgY2xhc3MgQ0xJU3ludGF4RXJyb3IgZXh0ZW5kcyBDYXRjaGFibGVFcnJvclxue1xuXHRtYW5FbnRyaWVzOiBFbnRyaWVzW11cblxuXHRjb25zdHJ1Y3RvciggbWVzc2FnZTogc3RyaW5nLCBtYW5FbnRyaWVzOiBFbnRyaWVzW10sIGRldGFpbHMgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBtZXNzYWdlLCBkZXRhaWxzIClcblx0XHR0aGlzLm1hbkVudHJpZXMgPSBtYW5FbnRyaWVzXG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgRmlyc3RBcmdFcnJvciBleHRlbmRzIENMSVN5bnRheEVycm9yXG57XG5cdGNvbnN0cnVjdG9yKCBhcmc6IHN0cmluZywgZGV0YWlscyA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIGBGaXJzdCBhcmd1bWVudCAnJHthcmd9JyB1bnJlY29nbml6ZWRgLCBbJ2NyZWF0ZScsICdleHRyYWN0J10sIGRldGFpbHMgKVxuXHR9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUVycm9yIGV4dGVuZHMgQ0xJU3ludGF4RXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscyA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIG1lc3NhZ2UsIFsnY3JlYXRlJ10sIGRldGFpbHMgKVxuXHR9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNsYXNzIEV4dHJhY3RFcnJvciBleHRlbmRzIENMSVN5bnRheEVycm9yXG57XG5cdGNvbnN0cnVjdG9yKCBtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHMgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBtZXNzYWdlLCBbJ2V4dHJhY3QnXSwgZGV0YWlscyApXG5cdH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDYXRjaGFibGVFcnJvciBleHRlbmRzIEVycm9yXG57XG5cdGRldGFpbHM6IGFueVxuXG5cdC8vLy8vLy8vLy9cblxuXHRjb25zdHJ1Y3RvciggbWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzID86IGFueSApXG5cdHtcblx0XHRzdXBlciggbWVzc2FnZSApXG5cdFx0dGhpcy5kZXRhaWxzID0gZGV0YWlscztcblx0fVxufSIsImltcG9ydCB7IENhdGNoYWJsZUVycm9yIH0gZnJvbSAnLi9DYXRjaGFibGVFcnJvcic7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNsYXNzIEVuY3J5cHRFcnJvciBleHRlbmRzIENhdGNoYWJsZUVycm9yXG57XG5cdGNvbnN0cnVjdG9yKGVycm9yID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYEFuIGVycm9yIG9jY3VyZWQgZHVyaW5nIGVuY3J5cHRpb25gLCBlcnJvciApXG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgRGVjcnlwdEVycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGVycm9yID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYEFuIGVycm9yIG9jY3VyZWQgZHVyaW5nIGRlY3J5cHRpb25gLCBlcnJvciApXG5cdH1cbn1cbiIsImltcG9ydCB7IENhdGNoYWJsZUVycm9yIH0gZnJvbSAnLi9DYXRjaGFibGVFcnJvcic7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNsYXNzIEZpbGVOb3RGb3VuZEVycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGZ1bGxQYXRoOiBzdHJpbmcsIGVycm9yID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYEZpbGUgJyR7IGZ1bGxQYXRoIH0nIGNhbid0IGJlIGZvdW5kYCwgZXJyb3IgKVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxlQWxyZWFkeUV4aXN0c0Vycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGZ1bGxQYXRoOiBzdHJpbmcgKVxuXHR7XG5cdFx0c3VwZXIoIGBGaWxlICR7IGZ1bGxQYXRoIH0gYWxyZWFkeSBleGlzdHNgIClcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU2F2ZUZpbGVFcnJvciBleHRlbmRzIENhdGNoYWJsZUVycm9yXG57XG5cdGNvbnN0cnVjdG9yKCBmdWxsUGF0aDogc3RyaW5nLCBlcnJvciA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIGBQcm9ibGVtIHNhdmluZyAkeyBmdWxsUGF0aCB9IGAsIGVycm9yIClcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRmlsZVR5cGVFcnJvciBleHRlbmRzIENhdGNoYWJsZUVycm9yXG57XG5cdGNvbnN0cnVjdG9yKCBmdWxsUGF0aDogc3RyaW5nLCBlcnJvciA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIGBQYXRoICcke2Z1bGxQYXRofScgc2hvdWxkIHJlZmVyZW5jZSBhIGZpbGUgb3IgZGlyZWN0b3J5YCwgZXJyb3IgKVxuXHR9XG59IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2hhbGtcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29tcHJlc3NpbmdcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3dvcmQtcHJvbXB0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNyeXB0b1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuIl0sIm5hbWVzIjpbImFjdGlvbiIsInNvdXJjZVBhdGgiLCJkZXN0UGF0aCIsIkFyZ0hhbmRsZXIiLCJURU1QX0ZJTEUiLCJBY3Rpb24iLCJDUkVBVEUiLCJwcmludE1lc3NhZ2UiLCJBcmNoaXZlIiwiY29tcHJlc3MiLCJwYXNzd29yZCIsInNlY3JldFByb21wdCIsIml2IiwiRW5jcnlwdGlvbiIsImVuY3J5cHQiLCJFWFRSQUNUIiwiaW5pdGlhbGl6YXRpb25WZWN0b3IiLCJkZWNyeXB0IiwiZXh0cmFjdCIsIlN5c3RlbSIsImRlbGV0ZUZpbGUiLCJleGl0IiwiZXJyb3IiLCJDYXRjaGFibGVFcnJvciIsIkNMSVN5bnRheEVycm9yIiwibWVzc2FnZSIsIm1hbkVudHJpZXMiLCJkZXRhaWxzIiwicHJpbnRFcnJvciIsImZvckVhY2giLCJlbnRyeSIsImdldE1hbiIsImNvbnNvbGUiLCJpc0RpcmVjdG9yeSIsIkFSQ0hJVkVfQUxHTyIsImNvbXByZXNzRGlyIiwiY29tcHJlc3NGaWxlIiwiZSIsImxvZyIsIkNvbXByZXNzRXJyb3IiLCJ1bmNvbXByZXNzIiwiRXh0cmFjdEVycm9yIiwiRmxhZyIsIkVOQ1JZUFRJT05fQUxHTyIsImNvbnN0cnVjdG9yIiwic2V0QWN0aW9uIiwiYXJnIiwiYWxsb3dlZENyZWF0ZSIsImFsbG93ZWRFeHRyYWN0IiwiaW5jbHVkZXMiLCJ0aGlzIiwiRmlyc3RBcmdFcnJvciIsInNldFNvdXJjZSIsImRvZXNGaWxlRXhpc3RzIiwiRmlsZU5vdEZvdW5kRXJyb3IiLCJzZXREZXN0IiwicGF0aCIsIkRFRkFVTFRfQ1JFQVRFX0VYVEVOU0lPTiIsIlJlZ0V4cCIsInRlc3QiLCJzcGxpdCIsIkRFRkFVTFRfRVhUUkFDVF9FWFRFTlNJT04iLCJGaWxlQWxyZWFkeUV4aXN0c0Vycm9yIiwic2VhcmNoRmxhZyIsImZsYWdXcml0dGluZ3MiLCJ1bmRlZmluZWQiLCJleHRyYWN0T2NjdXJhbmNlcyIsImNhbGxiYWNrIiwib2NjdXJhbmNlcyIsImFyZ3MiLCJpbmRleCIsInB1c2giLCJsZW5ndGgiLCJpIiwic3BsaWNlIiwicHJvY2VzcyIsImFyZ3YiLCJzbGljZSIsImlzVmVyc2lvbiIsIlZFUlNJT04iLCJpc0hlbHBOZWVkZWQiLCJIRUxQIiwidmVyc2lvbiIsImZ1bGxNYW4iLCJTQUxUIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbnB1dCIsImNyZWF0ZVJlYWRTdHJlYW0iLCJvdXRwdXQiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImtleSIsInNjcnlwdFN5bmMiLCJyYW5kb21CeXRlcyIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwicGlwZSIsIm9uIiwidG9TdHJpbmciLCJFbmNyeXB0RXJyb3IiLCJCdWZmZXIiLCJmcm9tIiwiY3JlYXRlRGVjaXBoZXJpdiIsIkRlY3J5cHRFcnJvciIsIm1ha2VNYW4iLCJmb290ZXIiLCJ0b1JldHVybiIsIm1hbiIsImhlYWRlciIsImhhbmRsZUFjdGlvbiIsIm1hblBhZ2UiLCJib2xkIiwidW5kZXJsaW5lIiwidGl0bGUiLCJwcm90b3R5cGUiLCJhcmdEZWYiLCJmdXJ0aGVyRGVzY3JpcHRpb24iLCJleGFtcGxlcyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInJlcG9zaXRvcnkiLCJ1cmwiLCJjcmVhdGUiLCJyZWQiLCJjaGFsa0NvbG9yIiwiQXJyYXkiLCJpc0FycmF5IiwibGluZSIsInRleHQiLCJtZXRob2QiLCJjb2RlIiwiZ2V0QWJzb2x1dGVQYXRoIiwiZmlsZVBhdGgiLCJpc0Fic29sdXRlIiwiam9pbiIsImN3ZCIsImV4aXN0c1N5bmMiLCJhYnNQYXRoIiwibHN0YXRTeW5jIiwiaXNGaWxlIiwiRmlsZVR5cGVFcnJvciIsInJtU3luYyIsInN1cGVyIiwiRXJyb3IiLCJmdWxsUGF0aCIsIlNhdmVGaWxlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19leHBvcnRzX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=