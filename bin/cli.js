#!/usr/bin/env node

(()=>{"use strict";var e={42:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(519),n=r(176),a=s(r(74)),c=r(593),u=r(327),l=r(87),d=r(436),p=r(696),h=r(298);o(void 0,void 0,void 0,(function*(){try{const{action:e,sourcePath:t,destPath:r}=new n.ArgHandler,o=".archive.temp";switch(console.log(e,t,r),e){case n.Action.CREATE:{(0,c.printMessage)("Compression ..."),yield d.Archive.compress({sourcePath:t,destPath:o}),(0,c.printMessage)("done"),(0,c.printMessage)(""),(0,c.printMessage)("Encryption ...");const e=yield(0,h.secretPrompt)("Password: "),s=yield p.Encryption.encrypt({sourcePath:o,destPath:r,password:e});(0,c.printMessage)("done"),(0,c.printMessage)("Here is your initialization vector, you must store it as it is required to decrypt","red"),(0,c.printMessage)(["",s,""]);break}case n.Action.EXTRACT:{(0,c.printMessage)("Decryption ...");const e=yield(0,h.secretPrompt)("Password: "),s=yield(0,h.secretPrompt)("Initialization vector: ");yield p.Encryption.decrypt({sourcePath:t,destPath:o,password:e,initializationVector:s}),(0,c.printMessage)("done"),(0,c.printMessage)("Extraction ..."),yield d.Archive.extract({sourcePath:o,destPath:r}),(0,c.printMessage)("done");break}}i.System.deleteFile(o),i.System.exit(0)}catch(e){if(e instanceof u.CatchableError)if(e instanceof l.CLISyntaxError){const{message:t,manEntries:r,details:o}=e;(0,c.printError)([t,o]),r.forEach((e=>(0,c.printMessage)(["",...a.default.getMan(e)])))}else(0,c.printError)(e.message);else console.error(e);i.System.exit(-1)}}))},436:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Archive=void 0;const i=s(r(416)),n=r(290),a=r(176),c=r(519);!function(e){e.compress=({sourcePath:e,destPath:t})=>o(this,void 0,void 0,(function*(){try{c.System.isDirectory(e)?yield i.default[a.ARCHIVE_ALGO].compressDir(e,t):yield i.default[a.ARCHIVE_ALGO].compressFile(e,t)}catch(e){throw console.log(e),new n.CompressError(e)}})),e.extract=({sourcePath:e,destPath:t})=>o(this,void 0,void 0,(function*(){try{yield i.default[a.ARCHIVE_ALGO].uncompress(e,t)}catch(e){throw new n.ExtractError(e)}}))}(t.Archive||(t.Archive={}))},176:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,s)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ArgHandler=t.Flag=t.ENCRYPTION_ALGO=t.ARCHIVE_ALGO=t.Action=void 0;const n=r(519),a=r(87),c=r(5),u=r(593),l=i(r(74));var d,p;!function(e){e.CREATE="c",e.EXTRACT="x"}(d=t.Action||(t.Action={})),t.ARCHIVE_ALGO="tgz",t.ENCRYPTION_ALGO="aes-256-cbc",function(e){e.HELP="--help"}(p=t.Flag||(t.Flag={})),t.ArgHandler=class{constructor(){this.setAction=e=>{const t=["create",d.CREATE],r=["extract",d.EXTRACT];if(t.includes(e))this.action=d.CREATE;else{if(!r.includes(e))throw new a.FirstArgError(e);this.action=d.EXTRACT}},this.setSource=e=>{if(!n.System.doesFileExists(e))throw new c.FileNotFoundError(e);this.sourcePath=e},this.setDest=e=>{let t="";if(this.action===d.CREATE?t=e||this.sourcePath+l.DEFAULT_CREATE_EXTENSION:e?t=e:(new RegExp(`${l.DEFAULT_CREATE_EXTENSION}$`).test(this.sourcePath)&&(t=this.sourcePath.split(l.DEFAULT_CREATE_EXTENSION)[0]),t=this.sourcePath+l.DEFAULT_EXTRACT_EXTENSION),n.System.doesFileExists(t))throw new c.FileAlreadyExistsError(t);this.destPath=t},this.searchFlag=e=>void 0!==this.extractOccurances((t=>e.includes(t))),this.extractOccurances=e=>{const t=[];if(this.args.forEach(((r,o)=>{e(r,o)&&t.push({arg:r,index:o})})),0!==t.length){for(let e=t.length-1;e>=0;e--)this.args.splice(t[e].index,1);return t}},this.args=process.argv.slice(2),this.isHelpNeeded=this.searchFlag(["-h",p.HELP]),(this.isHelpNeeded||void 0===this.args[0])&&((0,u.printMessage)(l.default.fullMan()),n.System.exit(0)),this.setAction(this.args[0]),this.setSource(this.args[1]),this.setDest(this.args[2])}}},696:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Encryption=void 0;const i=s(r(113)),n=s(r(147)),a=r(186),c=r(176),u="useless salt";!function(e){e.encrypt=({sourcePath:e,destPath:t,password:r})=>o(this,void 0,void 0,(function*(){return new Promise(((o,s)=>{const l=n.default.createReadStream(e),d=n.default.createWriteStream(t),p=i.default.scryptSync(r,u,32),h=i.default.randomBytes(16),f=i.default.createCipheriv(c.ENCRYPTION_ALGO,p,h);l.pipe(f).pipe(d),d.on("finish",(()=>o(h.toString("hex")))),d.on("error",(()=>s(new a.EncryptError)))}))})),e.decrypt=({sourcePath:e,destPath:t,password:r,initializationVector:s})=>o(this,void 0,void 0,(function*(){return new Promise(((o,l)=>{const d=n.default.createReadStream(e),p=n.default.createWriteStream(t),h=i.default.scryptSync(r,u,32),f=Buffer.from(s,"hex"),E=i.default.createDecipheriv(c.ENCRYPTION_ALGO,h,f);d.pipe(E).pipe(p),p.on("finish",(()=>o(!0))),p.on("error",(()=>l(new a.DecryptError)))}))}))}(t.Encryption||(t.Encryption={}))},74:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_EXTRACT_EXTENSION=t.DEFAULT_CREATE_EXTENSION=void 0;const s=o(r(22)),i=o(r(598)),n=r(176);t.DEFAULT_CREATE_EXTENSION=".bkp",t.DEFAULT_EXTRACT_EXTENSION=".dec",t.default=new class{constructor(){this.getMan=e=>this.makeMan(Object.assign(Object.assign({},this[e]),{footer:!0})),this.fullMan=()=>{let e=[];return["create","extract"].forEach((t=>{const r=this.makeMan(Object.assign(Object.assign({},this[t]),{footer:!1}));e=[...e,...r,"","-----",""]})),[...this.header,...e,...this.footer]},this.handleAction=e=>{let t=[];switch(e){case n.Action.CREATE:t=this.getMan("create");break;case n.Action.EXTRACT:t=this.getMan("extract")}return t},this.makeMan=e=>{const{bold:t,underline:r}=s.default;let o=[];return e.title&&(o=[...o,r(e.title),""]),e.prototype&&(o=[...o,t(e.prototype),""]),e.argDef&&(o=[...o,...e.argDef]),e.furtherDescription&&(o=[...o,"",...e.furtherDescription]),e.examples&&(o=[...o,"",r("Examples :"),"",...e.examples]),o};const{bold:e}=s.default;this.header=["",`Create and extract backups of a file or directory compressed with ${s.default.bold("tgz")} and encrypted`,`with ${s.default.bold("aes-256-cbc")} with both your password and a generated initialization vector`,"","-----",""],this.footer=["","-----",`${e(i.default.name)}: ${i.default.description}`,`Version: ${e(i.default.version)}`,`More informations and examples at ${e(i.default.repository.url)}`],this.version=[`${i.default.version}`],this.create={title:"Create a compressed, encrypted backup",prototype:"bkp <c|create> <source path> [<destination path>]",argDef:["<source path> : Absolute or relative path to what you want to backup","[<destination path>] : Optional, absolute or relative path to where you want your",`                       backup file ${s.default.bold(`default: '${t.DEFAULT_CREATE_EXTENSION}'`)}`],furtherDescription:["It will then prompt you for the password you want to set",`After encryption, a initialization vector will be outputed, ${s.default.bold.red("you must store it in order to decrypt afterwards")}`]},this.extract={title:"Extract the content of a backup",prototype:"bkp <x|extract> <source path> [<destination path>]",argDef:["<source path> : Absolute or relative path to your backup location","[<destination path>] : Optional, absolute or relative path to where you want your clear content,","                       if you have used the default '.bkp' extension it will be trimmed, otherwise it will append ",`                       the ${s.default.bold(`prefix: '${t.DEFAULT_EXTRACT_EXTENSION}'`)}`],furtherDescription:["It will then prompt you for the password you have set","Then, you provide the initialization vector that was generated during the backup creation"]}}}},593:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.printError=t.printMessage=void 0;const s=o(r(22));t.printMessage=(e,t)=>{""!==e&&e!==[]&&(e=Array.isArray(e)?e:[e]).forEach((e=>{let r=e;r=t?s.default[t](r):r,console.log(r)}))},t.printError=e=>(0,t.printMessage)(e,"red")},298:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.secretPrompt=void 0;const i=s(r(726));t.secretPrompt=e=>o(void 0,void 0,void 0,(function*(){return yield(0,i.default)(e,{method:"hide"})}))},519:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;const s=o(r(147)),i=o(r(17)),n=r(5);var a;(a=t.System||(t.System={})).exit=(e=0)=>process.exit(e),a.getAbsolutePath=e=>i.default.isAbsolute(e)?e:i.default.join(process.cwd(),e),a.doesFileExists=e=>s.default.existsSync(a.getAbsolutePath(e))||!1,a.isDirectory=e=>{const t=a.getAbsolutePath(e);if(s.default.lstatSync(t).isDirectory())return!0;if(s.default.lstatSync(t).isFile())return!1;throw new n.FileTypeError(e)},a.deleteFile=e=>{const t=a.getAbsolutePath(e);s.default.rmSync(t)}},290:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtractError=t.CompressError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e){super("An error occured during compression",e)}}t.CompressError=s;class i extends o.CatchableError{constructor(e){super("An error occured during extraction",e)}}t.ExtractError=i},87:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtractError=t.CreateError=t.FirstArgError=t.CLISyntaxError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e,t,r){super(e,r),this.manEntries=t}}t.CLISyntaxError=s,t.FirstArgError=class extends s{constructor(e,t){super(`First argument '${e}' unrecognized`,["create","extract"],t)}},t.CreateError=class extends s{constructor(e,t){super(e,["create"],t)}},t.ExtractError=class extends s{constructor(e,t){super(e,["extract"],t)}}},327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CatchableError=void 0;class r extends Error{constructor(e,t){super(e),this.details=t}}t.CatchableError=r},186:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecryptError=t.EncryptError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e){super("An error occured during encryption",e)}}t.EncryptError=s;class i extends o.CatchableError{constructor(e){super("An error occured during decryption",e)}}t.DecryptError=i},5:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileTypeError=t.SaveFileError=t.FileAlreadyExistsError=t.FileNotFoundError=void 0;const o=r(327);class s extends o.CatchableError{constructor(e,t){super(`File '${e}' can't be found`,t)}}t.FileNotFoundError=s;class i extends o.CatchableError{constructor(e){super(`File ${e} already exists`)}}t.FileAlreadyExistsError=i;class n extends o.CatchableError{constructor(e,t){super(`Problem saving ${e} `,t)}}t.SaveFileError=n;class a extends o.CatchableError{constructor(e,t){super(`Path '${e}' should reference a file or directory`,t)}}t.FileTypeError=a},22:e=>{e.exports=require("chalk")},416:e=>{e.exports=require("compressing")},726:e=>{e.exports=require("password-prompt")},113:e=>{e.exports=require("crypto")},147:e=>{e.exports=require("fs")},17:e=>{e.exports=require("path")},598:e=>{e.exports=JSON.parse('{"name":"bkp-node","version":"1.0.1","description":"A CLI tool to handle encrypted compressed backups of files or directory","keywords":["backup","archive","encrypt","cli"],"author":"Mike AUBENAS","license":"MIT","bin":{"bkp":"./bin/cli.js"},"files":["src","bin/cli.js"],"main":"src/Main.ts","repository":{"type":"git","url":"https://github.com/MikyStar/bkp-node"},"scripts":{"dev":"nodemon","start":"NODE_ENV=dev npm run build && node build/Main.js","build":"webpack-cli","make-binary":"./scripts/make-binary.sh","prepublishOnly":"npm run make-binary","security:audit":"npm audit --production --audit-level=moderate --registry=https://registry.npmjs.org","security:fix":"npm audit fix --production --audit-level=moderate --registry=https://registry.npmjs.org","dependencies:check":"ncu -e 2","dependencies:update":"ncu -u && npm run clear && npm install && npm run security:audit","clear":"rm -rf node_modules build bin"},"devDependencies":{"tslint":"^5.20.1","typescript":"^4.6.3"},"dependencies":{"@types/jest":"^28.1.4","@types/node":"^18.0.3","@types/prompts":"^2.0.14","chalk":"^4.1.2","compressing":"^1.6.0","dotenv":"^16.0.0","jest":"^28.1.2","password-prompt":"^1.1.2","ts-loader":"^9.2.9","ts-node":"^10.7.0","webpack":"^5.72.0","webpack-cli":"^4.9.2","webpack-node-externals":"^3.0.0"}}')}},t={},r=function r(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}(42);for(var o in r)this[o]=r[o];r.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG96Q0NDckJDLEVBQTJCLEdDRTNCQyxFRENKLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSixFQUF5QkcsR0FDNUMsUUFBcUJ0RixJQUFqQnVGLEVBQ0gsT0FBT0EsRUFBYU4sUUFHckIsSUFBSUQsRUFBU0csRUFBeUJHLEdBQVksQ0FHakRMLFFBQVMsSUFPVixPQUhBTyxFQUFvQkYsR0FBVUcsS0FBS1QsRUFBT0MsUUFBU0QsRUFBUUEsRUFBT0MsUUFBU0ksR0FHcEVMLEVBQU9DLFFDbEJXSSxDQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmtwLW5vZGUvLi9zcmMvTWFpbi50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9jb3JlL0FyY2hpdmUudHMiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvLi9zcmMvY29yZS9BcmdIYW5kbGVyLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2NvcmUvRW5jcnlwdGlvbi50cyIsIndlYnBhY2s6Ly9ia3Atbm9kZS8uL3NyYy9jb3JlL0hlbHAudHMiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvLi9zcmMvY29yZS9QcmludGVyLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2NvcmUvUHJvbXB0LnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2NvcmUvU3lzdGVtLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2Vycm9ycy9BcmNoaXZlRXJyb3JzLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2Vycm9ycy9DTElTeW50YXhFcnJvcnMudHMiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvLi9zcmMvZXJyb3JzL0NhdGNoYWJsZUVycm9yLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2Vycm9ycy9FbmNyeXB0aW9uRXJyb3JzLnRzIiwid2VicGFjazovL2JrcC1ub2RlLy4vc3JjL2Vycm9ycy9GaWxlRXJyb3JzLnRzIiwid2VicGFjazovL2JrcC1ub2RlL2V4dGVybmFsIGNvbW1vbmpzIFwiY2hhbGtcIiIsIndlYnBhY2s6Ly9ia3Atbm9kZS9leHRlcm5hbCBjb21tb25qcyBcImNvbXByZXNzaW5nXCIiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvZXh0ZXJuYWwgY29tbW9uanMgXCJwYXNzd29yZC1wcm9tcHRcIiIsIndlYnBhY2s6Ly9ia3Atbm9kZS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiY3J5cHRvXCIiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzXCIiLCJ3ZWJwYWNrOi8vYmtwLW5vZGUvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly9ia3Atbm9kZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ia3Atbm9kZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi9jb3JlL1N5c3RlbSdcblxuaW1wb3J0IHsgQWN0aW9uLCBBcmdIYW5kbGVyIH0gZnJvbSBcIi4vY29yZS9BcmdIYW5kbGVyXCI7XG5pbXBvcnQgSGVscCBmcm9tICcuL2NvcmUvSGVscCc7XG5pbXBvcnQgeyBwcmludE1lc3NhZ2UsIHByaW50RXJyb3IgfSBmcm9tICcuL2NvcmUvUHJpbnRlcic7XG5cbmltcG9ydCB7IENhdGNoYWJsZUVycm9yIH0gZnJvbSBcIi4vZXJyb3JzL0NhdGNoYWJsZUVycm9yXCI7XG5pbXBvcnQgeyBDTElTeW50YXhFcnJvciB9IGZyb20gJy4vZXJyb3JzL0NMSVN5bnRheEVycm9ycyc7XG5pbXBvcnQgeyBBcmNoaXZlIH0gZnJvbSAnLi9jb3JlL0FyY2hpdmUnO1xuaW1wb3J0IHsgRW5jcnlwdGlvbiB9IGZyb20gJy4vY29yZS9FbmNyeXB0aW9uJztcbmltcG9ydCB7IHNlY3JldFByb21wdCB9IGZyb20gJy4vY29yZS9Qcm9tcHQnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmNvbnN0IGFwcCA9IGFzeW5jICgpID0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IGFjdGlvbiwgc291cmNlUGF0aCwgZGVzdFBhdGggfSA9IG5ldyBBcmdIYW5kbGVyKClcblxuXHRcdGNvbnN0IFRFTVBfRklMRSA9ICcuYXJjaGl2ZS50ZW1wJ1xuXG5cdFx0Y29uc29sZS5sb2coYWN0aW9uLCBzb3VyY2VQYXRoLCBkZXN0UGF0aClcblxuXHRcdHN3aXRjaChhY3Rpb24pIHtcblx0XHRcdGNhc2UgQWN0aW9uLkNSRUFURToge1xuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ0NvbXByZXNzaW9uIC4uLicpXG5cdFx0XHRcdGF3YWl0IEFyY2hpdmUuY29tcHJlc3MoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aDogVEVNUF9GSUxFIH0pXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnZG9uZScpXG5cblx0XHRcdFx0cHJpbnRNZXNzYWdlKCcnKVxuXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnRW5jcnlwdGlvbiAuLi4nKVxuXHRcdFx0XHRjb25zdCBwYXNzd29yZCA9IGF3YWl0IHNlY3JldFByb21wdCgnUGFzc3dvcmQ6ICcpXG5cdFx0XHRcdGNvbnN0IGl2ID0gYXdhaXQgRW5jcnlwdGlvbi5lbmNyeXB0KHsgc291cmNlUGF0aDogVEVNUF9GSUxFLCBkZXN0UGF0aCxcblx0XHRcdFx0XHRwYXNzd29yZCB9KVxuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ2RvbmUnKVxuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ0hlcmUgaXMgeW91ciBpbml0aWFsaXphdGlvbiB2ZWN0b3IsIHlvdSBtdXN0IHN0b3JlIGl0IGFzIGl0IGlzIHJlcXVpcmVkIHRvIGRlY3J5cHQnLCAncmVkJylcblx0XHRcdFx0cHJpbnRNZXNzYWdlKFsgJycsIGl2LCAnJyBdKVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBBY3Rpb24uRVhUUkFDVDoge1xuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ0RlY3J5cHRpb24gLi4uJylcblx0XHRcdFx0Y29uc3QgcGFzc3dvcmQgPSBhd2FpdCBzZWNyZXRQcm9tcHQoJ1Bhc3N3b3JkOiAnKVxuXHRcdFx0XHRjb25zdCBpbml0aWFsaXphdGlvblZlY3RvciA9IGF3YWl0IHNlY3JldFByb21wdCgnSW5pdGlhbGl6YXRpb24gdmVjdG9yOiAnKVxuXHRcdFx0XHRhd2FpdCBFbmNyeXB0aW9uLmRlY3J5cHQoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aDogVEVNUF9GSUxFLFxuXHRcdFx0XHRcdHBhc3N3b3JkLCBpbml0aWFsaXphdGlvblZlY3RvciB9KVxuXHRcdFx0XHRwcmludE1lc3NhZ2UoJ2RvbmUnKVxuXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnRXh0cmFjdGlvbiAuLi4nKVxuXHRcdFx0XHRhd2FpdCBBcmNoaXZlLmV4dHJhY3QoeyBzb3VyY2VQYXRoOiBURU1QX0ZJTEUsIGRlc3RQYXRoIH0pXG5cdFx0XHRcdHByaW50TWVzc2FnZSgnZG9uZScpXG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0U3lzdGVtLmRlbGV0ZUZpbGUoVEVNUF9GSUxFKVxuXG5cdFx0U3lzdGVtLmV4aXQoIDAgKVxuXHR9XG5cdGNhdGNoKCBlcnJvciApXG5cdHtcblx0XHRpZiggISggZXJyb3IgaW5zdGFuY2VvZiBDYXRjaGFibGVFcnJvciApIClcblx0XHRcdGNvbnNvbGUuZXJyb3IoIGVycm9yIClcblx0XHRlbHNlIHtcblx0XHRcdGlmKCBlcnJvciBpbnN0YW5jZW9mIENMSVN5bnRheEVycm9yIClcblx0XHRcdHtcblx0XHRcdFx0Y29uc3QgeyBtZXNzYWdlLCBtYW5FbnRyaWVzLCBkZXRhaWxzIH0gPSBlcnJvclxuXG5cdFx0XHRcdHByaW50RXJyb3IoW21lc3NhZ2UsIGRldGFpbHNdKVxuXG5cdFx0XHRcdG1hbkVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiBwcmludE1lc3NhZ2UoIFsgJycsIC4uLkhlbHAuZ2V0TWFuKCBlbnRyeSApXSApKVxuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRwcmludEVycm9yKCBlcnJvci5tZXNzYWdlIClcblx0XHR9XG5cblx0XHRTeXN0ZW0uZXhpdCggLTEgKVxuXHR9XG59XG5cbmFwcCgpIiwiaW1wb3J0IGNvbXByZXNzaW5nIGZyb20gJ2NvbXByZXNzaW5nJ1xuaW1wb3J0IHsgQ29tcHJlc3NFcnJvciwgRXh0cmFjdEVycm9yIH0gZnJvbSAnLi4vZXJyb3JzL0FyY2hpdmVFcnJvcnMnXG5pbXBvcnQgeyBBUkNISVZFX0FMR08gfSBmcm9tICcuL0FyZ0hhbmRsZXInXG5cbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuL1N5c3RlbVwiXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW50ZXJmYWNlIEFyZ3Mge1xuXHRzb3VyY2VQYXRoOiBzdHJpbmdcblx0ZGVzdFBhdGg6IHN0cmluZ1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFyY2hpdmVcbntcblx0ZXhwb3J0IGNvbnN0IGNvbXByZXNzID0gYXN5bmMgKHsgc291cmNlUGF0aCwgZGVzdFBhdGggfTogQXJncykgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIFN5c3RlbS5pc0RpcmVjdG9yeShzb3VyY2VQYXRoKSApXG5cdFx0XHRcdGF3YWl0IGNvbXByZXNzaW5nW0FSQ0hJVkVfQUxHT10uY29tcHJlc3NEaXIoc291cmNlUGF0aCwgZGVzdFBhdGgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGF3YWl0IGNvbXByZXNzaW5nW0FSQ0hJVkVfQUxHT10uY29tcHJlc3NGaWxlKHNvdXJjZVBhdGgsIGRlc3RQYXRoKVxuXHRcdH1cblx0XHRjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZSlcblx0XHRcdHRocm93IG5ldyBDb21wcmVzc0Vycm9yKGUpXG5cdFx0fVxuXHR9XG5cblx0ZXhwb3J0IGNvbnN0IGV4dHJhY3QgPSBhc3luYyAoeyBzb3VyY2VQYXRoLCBkZXN0UGF0aCB9OiBBcmdzKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGNvbXByZXNzaW5nW0FSQ0hJVkVfQUxHT10udW5jb21wcmVzcyhzb3VyY2VQYXRoLCBkZXN0UGF0aClcblx0XHR9XG5cdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBFeHRyYWN0RXJyb3IoZSlcblx0XHR9XG5cdH1cbn0iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi9TeXN0ZW1cIlxuXG5pbXBvcnQgeyBGaXJzdEFyZ0Vycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy9DTElTeW50YXhFcnJvcnNcIlxuaW1wb3J0IHsgRmlsZUFscmVhZHlFeGlzdHNFcnJvciwgRmlsZU5vdEZvdW5kRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzL0ZpbGVFcnJvcnNcIlxuaW1wb3J0IHsgcHJpbnRNZXNzYWdlIH0gZnJvbSBcIi4vUHJpbnRlclwiXG5pbXBvcnQgSGVscCwgeyBERUZBVUxUX0NSRUFURV9FWFRFTlNJT04sIERFRkFVTFRfRVhUUkFDVF9FWFRFTlNJT04gfSBmcm9tIFwiLi9IZWxwXCJcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGVudW0gQWN0aW9uIHtcblx0Q1JFQVRFID0gJ2MnLFxuXHRFWFRSQUNUID0gJ3gnXG59XG5cbmV4cG9ydCBjb25zdCBBUkNISVZFX0FMR08gPSAndGd6J1xuZXhwb3J0IGNvbnN0IEVOQ1JZUFRJT05fQUxHTyA9ICdhZXMtMjU2LWNiYydcblxuXG5leHBvcnQgZW51bSBGbGFnIHtcblx0SEVMUCA9ICctLWhlbHAnXG59XG5cbmludGVyZmFjZSBBcmdPY2N1cmFuY2Vcbntcblx0YXJnOiBzdHJpbmdcblx0aW5kZXg6IG51bWJlclxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLyAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgQXJnSGFuZGxlciB7XG5cdHByaXZhdGUgYXJnczogc3RyaW5nW11cblxuXHRhY3Rpb246IEFjdGlvblxuXG5cdHNvdXJjZVBhdGg6IHN0cmluZ1xuXHRkZXN0UGF0aDogc3RyaW5nXG5cblx0aXNIZWxwTmVlZGVkOiBib29sZWFuXG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5hcmdzID0gcHJvY2Vzcy5hcmd2LnNsaWNlKCAyIClcblxuXHRcdC8vIEZsYWdzIHNob3VsZCBiZSBoYW5kbGVkIGJlZm9yZSBwb3NpdGlvbmFsIGFyZ3Ncblx0XHR0aGlzLmlzSGVscE5lZWRlZCA9IHRoaXMuc2VhcmNoRmxhZyhbICctaCcsIEZsYWcuSEVMUCBdKVxuXG5cdFx0aWYodGhpcy5pc0hlbHBOZWVkZWQgfHwgdGhpcy5hcmdzWzBdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHByaW50TWVzc2FnZShIZWxwLmZ1bGxNYW4oKSlcblx0XHRcdFN5c3RlbS5leGl0KDApXG5cdFx0fVxuXG5cdFx0dGhpcy5zZXRBY3Rpb24odGhpcy5hcmdzWzBdKVxuXHRcdHRoaXMuc2V0U291cmNlKHRoaXMuYXJnc1sxXSlcblx0XHR0aGlzLnNldERlc3QodGhpcy5hcmdzWzJdKVxuXHR9XG5cblx0cHJpdmF0ZSBzZXRBY3Rpb24gPSAoYXJnOiBzdHJpbmcpID0+IHtcblx0XHRjb25zdCBhbGxvd2VkQ3JlYXRlID0gWydjcmVhdGUnLCBBY3Rpb24uQ1JFQVRFXVxuXHRcdGNvbnN0IGFsbG93ZWRFeHRyYWN0ID0gWydleHRyYWN0JywgQWN0aW9uLkVYVFJBQ1RdXG5cblx0XHRpZihhbGxvd2VkQ3JlYXRlLmluY2x1ZGVzKGFyZykpXG5cdFx0XHR0aGlzLmFjdGlvbiA9ICBBY3Rpb24uQ1JFQVRFXG5cdFx0ZWxzZSBpZihhbGxvd2VkRXh0cmFjdC5pbmNsdWRlcyhhcmcpKVxuXHRcdFx0dGhpcy5hY3Rpb24gPSAgQWN0aW9uLkVYVFJBQ1Rcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgRmlyc3RBcmdFcnJvcihhcmcpXG5cdH1cblxuXHRwcml2YXRlIHNldFNvdXJjZSA9IChhcmc6IHN0cmluZykgPT4ge1xuXHRcdGlmKCAhU3lzdGVtLmRvZXNGaWxlRXhpc3RzKGFyZykgKVxuXHRcdFx0dGhyb3cgbmV3IEZpbGVOb3RGb3VuZEVycm9yKGFyZylcblxuXHRcdHRoaXMuc291cmNlUGF0aCA9IGFyZ1xuXHR9XG5cblx0cHJpdmF0ZSBzZXREZXN0ID0gKGFyZzogc3RyaW5nKSA9PiB7XG5cdFx0bGV0IHBhdGggPSAnJ1xuXG5cdFx0aWYodGhpcy5hY3Rpb24gPT09IEFjdGlvbi5DUkVBVEUpXG5cdFx0XHRwYXRoID0gYXJnIHx8IHRoaXMuc291cmNlUGF0aCArIERFRkFVTFRfQ1JFQVRFX0VYVEVOU0lPTlxuXHRcdGVsc2Uge1xuXHRcdFx0aWYoYXJnKVxuXHRcdFx0XHRwYXRoID0gYXJnXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGAke0RFRkFVTFRfQ1JFQVRFX0VYVEVOU0lPTn0kYCk7XG5cblx0XHRcdFx0aWYgKHJlZ2V4LnRlc3QodGhpcy5zb3VyY2VQYXRoKSlcblx0XHRcdFx0XHRwYXRoID0gdGhpcy5zb3VyY2VQYXRoLnNwbGl0KERFRkFVTFRfQ1JFQVRFX0VYVEVOU0lPTilbMF1cblxuXHRcdFx0XHRwYXRoID0gdGhpcy5zb3VyY2VQYXRoICsgREVGQVVMVF9FWFRSQUNUX0VYVEVOU0lPTlxuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0aWYoIFN5c3RlbS5kb2VzRmlsZUV4aXN0cyhwYXRoKSApXG5cdFx0XHR0aHJvdyBuZXcgRmlsZUFscmVhZHlFeGlzdHNFcnJvcihwYXRoKVxuXG5cdFx0dGhpcy5kZXN0UGF0aCA9IHBhdGhcblx0fVxuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0cHJpdmF0ZSBzZWFyY2hGbGFnID0gKGZsYWdXcml0dGluZ3M6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiB7XG5cdFx0Y29uc3Qgb2NjdXJhbmNlcyA9IHRoaXMuZXh0cmFjdE9jY3VyYW5jZXMoYXJnID0+IGZsYWdXcml0dGluZ3MuaW5jbHVkZXMoYXJnKSlcblxuXHRcdHJldHVybiBvY2N1cmFuY2VzICE9PSB1bmRlZmluZWRcblx0fVxuXG5cdC8qKlxuXHQgKiBGaW5kIG9jY3VyYW5jZXMgaW4gaW5wdXQgb3JkZXIgd2l0aCB0aGVpciBwb3NpdGlvbiB0aGF0IG1hdGggdGhlIGNhbGxiYWNrLFxuXHQgKiByZXR1cm5zIHRoZW0gYW5kIGRlbGV0ZSB0aGVtIGZyb20gdGhlIHVudHJlYXRlZEFyZ3MgYXJyYXlcblx0ICogSWYgbm9uZSBmaW5kLCByZXR1cm5zIHVuZGVmaW5lZFxuXHQgKi9cblx0cHJpdmF0ZSBleHRyYWN0T2NjdXJhbmNlcyA9IChjYWxsYmFjayA6IChhcmc6IHN0cmluZywgaW5kZXggPzogbnVtYmVyKSA9PiBib29sZWFuICk6IEFyZ09jY3VyYW5jZVtdIHwgdW5kZWZpbmVkID0+XG5cdHtcblx0XHRjb25zdCBvY2N1cmFuY2VzOiBBcmdPY2N1cmFuY2VbXSA9IFtdXG5cblx0XHR0aGlzLmFyZ3MuZm9yRWFjaCgoYXJnLCBpbmRleCkgPT4ge1xuXHRcdFx0aWYoY2FsbGJhY2soYXJnLCBpbmRleCkpXG5cdFx0XHRcdG9jY3VyYW5jZXMucHVzaCh7IGFyZywgaW5kZXggfSlcblx0XHR9KVxuXG5cdFx0aWYoIG9jY3VyYW5jZXMubGVuZ3RoID09PSAwIClcblx0XHRcdHJldHVybiB1bmRlZmluZWRcblxuXHRcdC8qKiBAc2VlOiBodHRwczovL3d3dy5jb2RlZ3JlcHBlci5jb20vY29kZS1leGFtcGxlcy9qYXZhc2NyaXB0L2FycmF5K3NwbGljZStpbitmb3IrbG9vcCtqYXZhc2NyaXB0ICovXG5cdFx0Zm9yIChsZXQgaSA9IG9jY3VyYW5jZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG5cdFx0XHR0aGlzLmFyZ3Muc3BsaWNlKG9jY3VyYW5jZXNbIGkgXS5pbmRleCwgMSk7XG5cblx0XHRyZXR1cm4gb2NjdXJhbmNlc1xuXHR9XG59IiwiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgeyBEZWNyeXB0RXJyb3IsIEVuY3J5cHRFcnJvciB9IGZyb20gJy4uL2Vycm9ycy9FbmNyeXB0aW9uRXJyb3JzJztcbmltcG9ydCB7IEVOQ1JZUFRJT05fQUxHTyB9IGZyb20gJy4vQXJnSGFuZGxlcic7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW50ZXJmYWNlIEFyZ3Mge1xuXHRzb3VyY2VQYXRoOiBzdHJpbmdcblx0ZGVzdFBhdGg6IHN0cmluZ1xuXG5cdHBhc3N3b3JkOiBzdHJpbmdcbn1cblxuY29uc3QgU0FMVCA9ICd1c2VsZXNzIHNhbHQnXG5cbmV4cG9ydCBuYW1lc3BhY2UgRW5jcnlwdGlvblxue1xuXHRleHBvcnQgY29uc3QgZW5jcnlwdCA9IGFzeW5jICh7IHNvdXJjZVBhdGgsIGRlc3RQYXRoLCBwYXNzd29yZCB9OiBBcmdzKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5wdXQgPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHNvdXJjZVBhdGgpO1xuXHRcdFx0Y29uc3Qgb3V0cHV0ID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZGVzdFBhdGgpO1xuXG5cdFx0XHRjb25zdCBrZXkgPSBjcnlwdG8uc2NyeXB0U3luYyhwYXNzd29yZCwgU0FMVCwgMzIpO1xuXHRcdFx0Y29uc3QgaW5pdGlhbGl6YXRpb25WZWN0b3IgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpXG5cblx0XHRcdGNvbnN0IGNpcGhlciA9IGNyeXB0by5jcmVhdGVDaXBoZXJpdihFTkNSWVBUSU9OX0FMR08sIGtleSwgaW5pdGlhbGl6YXRpb25WZWN0b3IpO1xuXG5cdFx0XHRpbnB1dC5waXBlKGNpcGhlcikucGlwZShvdXRwdXQpO1xuXG5cdFx0XHRvdXRwdXQub24oJ2ZpbmlzaCcsICgpID0+IHJlc29sdmUoaW5pdGlhbGl6YXRpb25WZWN0b3IudG9TdHJpbmcoJ2hleCcpKSk7XG5cblx0XHRcdG91dHB1dC5vbignZXJyb3InLCAoKSA9PiByZWplY3QobmV3IEVuY3J5cHRFcnJvcigpKSApO1xuXHRcdH0pXG5cdH1cblxuXHRleHBvcnQgY29uc3QgZGVjcnlwdCA9IGFzeW5jICh7IHNvdXJjZVBhdGgsIGRlc3RQYXRoLCBwYXNzd29yZCwgaW5pdGlhbGl6YXRpb25WZWN0b3IgfTogQXJncyAmIHsgaW5pdGlhbGl6YXRpb25WZWN0b3I6IHN0cmluZyB9KSA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnN0IGlucHV0ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShzb3VyY2VQYXRoKTtcblx0XHRcdGNvbnN0IG91dHB1dCA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGRlc3RQYXRoKTtcblxuXHRcdFx0Y29uc3Qga2V5ID0gY3J5cHRvLnNjcnlwdFN5bmMocGFzc3dvcmQsIFNBTFQsIDMyKTtcblx0XHRcdGNvbnN0IGl2ID0gQnVmZmVyLmZyb20oaW5pdGlhbGl6YXRpb25WZWN0b3IsICdoZXgnKVxuXG5cdFx0XHRjb25zdCBjaXBoZXIgPSBjcnlwdG8uY3JlYXRlRGVjaXBoZXJpdihFTkNSWVBUSU9OX0FMR08sIGtleSwgaXYpO1xuXG5cdFx0XHRpbnB1dC5waXBlKGNpcGhlcikucGlwZShvdXRwdXQpO1xuXG5cdFx0XHRvdXRwdXQub24oJ2ZpbmlzaCcsICgpID0+IHJlc29sdmUodHJ1ZSkpO1xuXG5cdFx0XHRvdXRwdXQub24oJ2Vycm9yJywgKCkgPT4gcmVqZWN0KG5ldyBEZWNyeXB0RXJyb3IoKSkgKTtcblx0XHR9KVxuXHR9XG59IiwiaW1wb3J0IGNoYWxrIGZyb20gXCJjaGFsa1wiXG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBwa2cgZnJvbSAnLi4vLi4vcGFja2FnZS5qc29uJ1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSBcIi4uL2NvcmUvQXJnSGFuZGxlclwiXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW50ZXJmYWNlIE1hblBhZ2Vcbntcblx0dGl0bGUgPzogc3RyaW5nXG5cdHByb3RvdHlwZSA/OiBzdHJpbmdcblx0YXJnRGVmID86IHN0cmluZ1tdXG5cdGZ1cnRoZXJEZXNjcmlwdGlvbiA/OiBzdHJpbmdbXVxuXHRmb290ZXIgPzogYm9vbGVhblxuXHRleGFtcGxlcyA/OiBzdHJpbmdbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hbkVudHJpZXNcbntcblx0Y3JlYXRlOiBNYW5QYWdlXG5cdGV4dHJhY3Q6IE1hblBhZ2Vcbn1cblxudHlwZSBNYW5FbnRyeUtleSA9IGtleW9mIE1hbkVudHJpZXNcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ1JFQVRFX0VYVEVOU0lPTiA9ICcuYmtwJ1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRVhUUkFDVF9FWFRFTlNJT04gPSAnLmRlYydcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEV4cG9zZSBsaW5lcyBvZiBkZWNvcmF0ZWQgdGV4dCBhcyBhcnJheSBmb3IgaGVscCBmbGFnXG4gKi9cbmNsYXNzIEhlbHAgaW1wbGVtZW50cyBNYW5FbnRyaWVzXG57XG5cdHByaXZhdGUgaGVhZGVyOiBzdHJpbmdbXVxuXHRwcml2YXRlIGZvb3Rlcjogc3RyaW5nW11cblxuXHR2ZXJzaW9uOiBzdHJpbmdbXVxuXG5cdGNyZWF0ZTogTWFuUGFnZTtcblx0ZXh0cmFjdDogTWFuUGFnZTtcblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdGNvbnN0IHsgYm9sZCB9ID0gY2hhbGtcblxuXHRcdHRoaXMuaGVhZGVyID1cblx0XHRbXG5cdFx0XHQnJyxcblx0XHRcdGBDcmVhdGUgYW5kIGV4dHJhY3QgYmFja3VwcyBvZiBhIGZpbGUgb3IgZGlyZWN0b3J5IGNvbXByZXNzZWQgd2l0aCAke2NoYWxrLmJvbGQoJ3RneicpfSBhbmQgZW5jcnlwdGVkYCxcblx0XHRcdGB3aXRoICR7Y2hhbGsuYm9sZCgnYWVzLTI1Ni1jYmMnKX0gd2l0aCBib3RoIHlvdXIgcGFzc3dvcmQgYW5kIGEgZ2VuZXJhdGVkIGluaXRpYWxpemF0aW9uIHZlY3RvcmAsXG5cdFx0XHQnJyxcblx0XHRcdCctLS0tLScsXG5cdFx0XHQnJyxcblx0XHRdXG5cblx0XHR0aGlzLmZvb3RlciA9XG5cdFx0W1xuXHRcdFx0JycsXG5cdFx0XHQnLS0tLS0nLFxuXHRcdFx0YCR7IGJvbGQoIHBrZy5uYW1lICkgfTogJHsgcGtnLmRlc2NyaXB0aW9uIH1gLFxuXHRcdFx0YFZlcnNpb246ICR7IGJvbGQoIHBrZy52ZXJzaW9uICkgfWAsXG5cdFx0XHRgTW9yZSBpbmZvcm1hdGlvbnMgYW5kIGV4YW1wbGVzIGF0ICR7IGJvbGQoIHBrZy5yZXBvc2l0b3J5LnVybCApfWBcblx0XHRdXG5cblx0XHQvLy8vLy8vLy8vXG5cblx0XHR0aGlzLnZlcnNpb24gPSBbIGAkeyBwa2cudmVyc2lvbiB9YCBdXG5cblx0XHR0aGlzLmNyZWF0ZSA9XG5cdFx0e1xuXHRcdFx0dGl0bGU6IGBDcmVhdGUgYSBjb21wcmVzc2VkLCBlbmNyeXB0ZWQgYmFja3VwYCxcblx0XHRcdHByb3RvdHlwZTogJ2JrcCA8Y3xjcmVhdGU+IDxzb3VyY2UgcGF0aD4gWzxkZXN0aW5hdGlvbiBwYXRoPl0nLFxuXHRcdFx0YXJnRGVmOlxuXHRcdFx0W1xuXHRcdFx0XHRgPHNvdXJjZSBwYXRoPiA6IEFic29sdXRlIG9yIHJlbGF0aXZlIHBhdGggdG8gd2hhdCB5b3Ugd2FudCB0byBiYWNrdXBgLFxuXHRcdFx0XHQnWzxkZXN0aW5hdGlvbiBwYXRoPl0gOiBPcHRpb25hbCwgYWJzb2x1dGUgb3IgcmVsYXRpdmUgcGF0aCB0byB3aGVyZSB5b3Ugd2FudCB5b3VyJyxcblx0XHRcdFx0YCAgICAgICAgICAgICAgICAgICAgICAgYmFja3VwIGZpbGUgJHtjaGFsay5ib2xkKGBkZWZhdWx0OiAnJHtERUZBVUxUX0NSRUFURV9FWFRFTlNJT059J2ApfWAsXG5cdFx0XHRdLFxuXHRcdFx0ZnVydGhlckRlc2NyaXB0aW9uOlxuXHRcdFx0W1xuXHRcdFx0XHQnSXQgd2lsbCB0aGVuIHByb21wdCB5b3UgZm9yIHRoZSBwYXNzd29yZCB5b3Ugd2FudCB0byBzZXQnLFxuXHRcdFx0XHRgQWZ0ZXIgZW5jcnlwdGlvbiwgYSBpbml0aWFsaXphdGlvbiB2ZWN0b3Igd2lsbCBiZSBvdXRwdXRlZCwgJHsgY2hhbGsuYm9sZC5yZWQoJ3lvdSBtdXN0IHN0b3JlIGl0IGluIG9yZGVyIHRvIGRlY3J5cHQgYWZ0ZXJ3YXJkcycpIH1gXG5cdFx0XHRdXG5cdFx0fVxuXG5cdFx0dGhpcy5leHRyYWN0ID1cblx0XHR7XG5cdFx0XHR0aXRsZTogYEV4dHJhY3QgdGhlIGNvbnRlbnQgb2YgYSBiYWNrdXBgLFxuXHRcdFx0cHJvdG90eXBlOiAnYmtwIDx4fGV4dHJhY3Q+IDxzb3VyY2UgcGF0aD4gWzxkZXN0aW5hdGlvbiBwYXRoPl0nLFxuXHRcdFx0YXJnRGVmOlxuXHRcdFx0W1xuXHRcdFx0XHRgPHNvdXJjZSBwYXRoPiA6IEFic29sdXRlIG9yIHJlbGF0aXZlIHBhdGggdG8geW91ciBiYWNrdXAgbG9jYXRpb25gLFxuXHRcdFx0XHQnWzxkZXN0aW5hdGlvbiBwYXRoPl0gOiBPcHRpb25hbCwgYWJzb2x1dGUgb3IgcmVsYXRpdmUgcGF0aCB0byB3aGVyZSB5b3Ugd2FudCB5b3VyIGNsZWFyIGNvbnRlbnQsJyxcblx0XHRcdFx0XCIgICAgICAgICAgICAgICAgICAgICAgIGlmIHlvdSBoYXZlIHVzZWQgdGhlIGRlZmF1bHQgJy5ia3AnIGV4dGVuc2lvbiBpdCB3aWxsIGJlIHRyaW1tZWQsIG90aGVyd2lzZSBpdCB3aWxsIGFwcGVuZCBcIixcblx0XHRcdFx0YCAgICAgICAgICAgICAgICAgICAgICAgdGhlICR7Y2hhbGsuYm9sZChgcHJlZml4OiAnJHtERUZBVUxUX0VYVFJBQ1RfRVhURU5TSU9OfSdgKX1gLFxuXHRcdFx0XSxcblx0XHRcdGZ1cnRoZXJEZXNjcmlwdGlvbjpcblx0XHRcdFtcblx0XHRcdFx0J0l0IHdpbGwgdGhlbiBwcm9tcHQgeW91IGZvciB0aGUgcGFzc3dvcmQgeW91IGhhdmUgc2V0Jyxcblx0XHRcdFx0YFRoZW4sIHlvdSBwcm92aWRlIHRoZSBpbml0aWFsaXphdGlvbiB2ZWN0b3IgdGhhdCB3YXMgZ2VuZXJhdGVkIGR1cmluZyB0aGUgYmFja3VwIGNyZWF0aW9uYFxuXHRcdFx0XVxuXHRcdH1cblx0fVxuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0Z2V0TWFuID0gKCBhY3Rpb246IE1hbkVudHJ5S2V5ICkgPT4gdGhpcy5tYWtlTWFuKCB7IC4uLnRoaXNbIGFjdGlvbiBdLCBmb290ZXI6IHRydWUgfSApXG5cblx0ZnVsbE1hbiA9ICgpID0+XG5cdHtcblx0XHRsZXQgdG9SZXR1cm46IHN0cmluZ1tdID0gW11cblxuXHRcdGNvbnN0IGVudHJpZXM6IE1hbkVudHJ5S2V5W10gPSBbJ2NyZWF0ZScsICdleHRyYWN0J11cblxuXHRcdGVudHJpZXMuZm9yRWFjaCggZW50cnkgPT5cblx0XHR7XG5cdFx0XHRjb25zdCBtYW4gPSB0aGlzLm1ha2VNYW4oeyAuLi50aGlzWyBlbnRyeSBdLCBmb290ZXI6IGZhbHNlIH0pXG5cdFx0XHR0b1JldHVybiA9IFsgLi4udG9SZXR1cm4sIC4uLm1hbiwgJycsICctLS0tLScsICcnIF1cblx0XHR9KTtcblxuXHRcdHJldHVyblx0W1xuXHRcdFx0XHRcdC4uLnRoaXMuaGVhZGVyLFxuXHRcdFx0XHRcdC4uLnRvUmV0dXJuLFxuXHRcdFx0XHRcdC4uLnRoaXMuZm9vdGVyXG5cdFx0XHRcdF1cblx0fVxuXG5cdGhhbmRsZUFjdGlvbiA9ICggYWN0aW9uOiBBY3Rpb24gKSA9PlxuXHR7XG5cdFx0bGV0IHRvUmV0dXJuOiBzdHJpbmdbXSA9IFtdXG5cblx0XHRzd2l0Y2goIGFjdGlvbiApXG5cdFx0e1xuXHRcdFx0Y2FzZSBBY3Rpb24uQ1JFQVRFOlxuXHRcdFx0XHR0b1JldHVybiA9IHRoaXMuZ2V0TWFuKCAnY3JlYXRlJyApXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBBY3Rpb24uRVhUUkFDVDpcblx0XHRcdFx0dG9SZXR1cm4gPSB0aGlzLmdldE1hbiggJ2V4dHJhY3QnIClcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRvUmV0dXJuXG5cdH1cblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdHByaXZhdGUgbWFrZU1hbiA9ICggbWFuUGFnZSA6IE1hblBhZ2UgKSA9PlxuXHR7XG5cdFx0Y29uc3QgeyBib2xkLCB1bmRlcmxpbmUgfSA9IGNoYWxrXG5cblx0XHRsZXQgdG9SZXR1cm4gOiBzdHJpbmdbXSA9IFtdXG5cblx0XHRpZiggbWFuUGFnZS50aXRsZSApXG5cdFx0XHR0b1JldHVybiA9IFsgLi4udG9SZXR1cm4sIHVuZGVybGluZSggbWFuUGFnZS50aXRsZSApLCAnJyBdXG5cblx0XHRpZiggbWFuUGFnZS5wcm90b3R5cGUgKVxuXHRcdFx0dG9SZXR1cm4gPSBbIC4uLnRvUmV0dXJuLCBib2xkKCBtYW5QYWdlLnByb3RvdHlwZSApLCAnJyBdXG5cblx0XHRpZiggbWFuUGFnZS5hcmdEZWYgKVxuXHRcdFx0dG9SZXR1cm4gPSBbIC4uLnRvUmV0dXJuLCAuLi5tYW5QYWdlLmFyZ0RlZiBdXG5cblx0XHRpZiggbWFuUGFnZS5mdXJ0aGVyRGVzY3JpcHRpb24gKVxuXHRcdFx0dG9SZXR1cm4gPSBbIC4uLnRvUmV0dXJuLCAnJyAsIC4uLm1hblBhZ2UuZnVydGhlckRlc2NyaXB0aW9uIF1cblxuXHRcdGlmKCBtYW5QYWdlLmV4YW1wbGVzIClcblx0XHRcdHRvUmV0dXJuID0gWyAuLi50b1JldHVybiwgJycgLCB1bmRlcmxpbmUoICdFeGFtcGxlcyA6JyApLCAnJywgLi4ubWFuUGFnZS5leGFtcGxlcyBdXG5cblx0XHRyZXR1cm4gdG9SZXR1cm5cblx0fVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBIZWxwKCkiLCJpbXBvcnQgY2hhbGssIHsgIH0gZnJvbSAnY2hhbGsnXG5cbnR5cGUgQ29sb3IgPSAncmVkJyB8ICdncmVlbidcblxuZXhwb3J0IGNvbnN0IHByaW50TWVzc2FnZSA9ICggbWVzc2FnZSA6IHN0cmluZyB8IHN0cmluZ1tdLCBjaGFsa0NvbG9yID86IENvbG9yICkgPT5cbntcblx0aWYoICggbWVzc2FnZSA9PT0gJycgKSB8fCAoIG1lc3NhZ2UgPT09IFtdICkgKVxuXHRcdHJldHVyblxuXG5cdG1lc3NhZ2UgPSBBcnJheS5pc0FycmF5KCBtZXNzYWdlICkgPyBtZXNzYWdlIDogWyBtZXNzYWdlIF1cblxuXHRtZXNzYWdlLmZvckVhY2goIGxpbmUgPT5cblx0e1xuXHRcdGxldCB0ZXh0ID0gbGluZVxuXHRcdHRleHQgPSBjaGFsa0NvbG9yID8gY2hhbGtbIGNoYWxrQ29sb3IgIF0oIHRleHQgKSA6IHRleHRcblxuXHRcdGNvbnNvbGUubG9nKCB0ZXh0IClcblx0fSlcbn1cblxuZXhwb3J0IGNvbnN0IHByaW50RXJyb3IgPSAoIG1lc3NhZ2U6IHN0cmluZyB8IHN0cmluZ1tdICkgPT4gcHJpbnRNZXNzYWdlKCBtZXNzYWdlLCAncmVkJyApIiwiaW1wb3J0IHByb21wdCBmcm9tICdwYXNzd29yZC1wcm9tcHQnXG5cbmV4cG9ydCBjb25zdCBzZWNyZXRQcm9tcHQgPSBhc3luYyAoIHRpdGxlOiBzdHJpbmcgKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcblx0cmV0dXJuIGF3YWl0IHByb21wdCggdGl0bGUsIHsgbWV0aG9kOiAnaGlkZScgfSApXG59IiwiaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuaW1wb3J0IHsgRmlsZVR5cGVFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMvRmlsZUVycm9yc1wiO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBuYW1lc3BhY2UgU3lzdGVtIHtcblx0ZXhwb3J0IGNvbnN0IGV4aXQgPSAoY29kZSA9IDApID0+IHByb2Nlc3MuZXhpdChjb2RlKTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhcyBpcyBpZiBpdCdzIGFscmVhZHkgYWJzb2x1dGUsIG90aGVyd2lzZSBtYWtlIGl0IGFic29sdXRlXG5cdCAqL1xuXHRleHBvcnQgY29uc3QgZ2V0QWJzb2x1dGVQYXRoID0gKGZpbGVQYXRoOiBzdHJpbmcpID0+XG5cdFx0cGF0aC5pc0Fic29sdXRlKGZpbGVQYXRoKVxuXHRcdFx0PyBmaWxlUGF0aFxuXHRcdFx0OiBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgZmlsZVBhdGgpO1xuXG5cdGV4cG9ydCBjb25zdCBkb2VzRmlsZUV4aXN0cyA9IChwYXRoOiBzdHJpbmcpOiBib29sZWFuID0+XG5cdFx0ZnMuZXhpc3RzU3luYyhnZXRBYnNvbHV0ZVBhdGgocGF0aCkpIHx8IGZhbHNlO1xuXG5cdGV4cG9ydCBjb25zdCBpc0RpcmVjdG9yeSA9IChwYXRoOiBzdHJpbmcpOiBib29sZWFuID0+IHtcblx0XHRjb25zdCBhYnNQYXRoID0gZ2V0QWJzb2x1dGVQYXRoKHBhdGgpO1xuXG5cdFx0LyoqIGZzLmxzdGF0U3luYyhhYnNQYXRoKSBjYW4gbm90IGJlIGRlc3RydWN0dXJlZCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL2hlbHAvaXNzdWVzLzM3MTMgKi9cblxuXHRcdGlmIChmcy5sc3RhdFN5bmMoYWJzUGF0aCkuaXNEaXJlY3RvcnkoKSkgcmV0dXJuIHRydWU7XG5cblx0XHRpZiAoZnMubHN0YXRTeW5jKGFic1BhdGgpLmlzRmlsZSgpKSByZXR1cm4gZmFsc2U7XG5cblx0XHR0aHJvdyBuZXcgRmlsZVR5cGVFcnJvcihwYXRoKTtcblx0fTtcblxuXHRleHBvcnQgY29uc3QgZGVsZXRlRmlsZSA9IChwYXRoOiBzdHJpbmcpID0+IHtcblx0XHRjb25zdCBhYnNQYXRoID0gZ2V0QWJzb2x1dGVQYXRoKHBhdGgpO1xuXG5cdFx0ZnMucm1TeW5jKGFic1BhdGgpXG5cdH1cbn1cbiIsImltcG9ydCB7IENhdGNoYWJsZUVycm9yIH0gZnJvbSAnLi9DYXRjaGFibGVFcnJvcic7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNsYXNzIENvbXByZXNzRXJyb3IgZXh0ZW5kcyBDYXRjaGFibGVFcnJvclxue1xuXHRjb25zdHJ1Y3RvcihlcnJvciA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIGBBbiBlcnJvciBvY2N1cmVkIGR1cmluZyBjb21wcmVzc2lvbmAsIGVycm9yIClcblx0fVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBFeHRyYWN0RXJyb3IgZXh0ZW5kcyBDYXRjaGFibGVFcnJvclxue1xuXHRjb25zdHJ1Y3RvciggZXJyb3IgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBgQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgZXh0cmFjdGlvbmAsIGVycm9yIClcblx0fVxufVxuIiwiaW1wb3J0IHsgQ2F0Y2hhYmxlRXJyb3IgfSBmcm9tICcuL0NhdGNoYWJsZUVycm9yJztcblxuaW1wb3J0IHsgTWFuRW50cmllcyB9IGZyb20gJy4uL2NvcmUvSGVscCc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxudHlwZSBFbnRyaWVzID0gIGtleW9mIE1hbkVudHJpZXNcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbmV4cG9ydCBjbGFzcyBDTElTeW50YXhFcnJvciBleHRlbmRzIENhdGNoYWJsZUVycm9yXG57XG5cdG1hbkVudHJpZXM6IEVudHJpZXNbXVxuXG5cdGNvbnN0cnVjdG9yKCBtZXNzYWdlOiBzdHJpbmcsIG1hbkVudHJpZXM6IEVudHJpZXNbXSwgZGV0YWlscyA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIG1lc3NhZ2UsIGRldGFpbHMgKVxuXHRcdHRoaXMubWFuRW50cmllcyA9IG1hbkVudHJpZXNcblx0fVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBGaXJzdEFyZ0Vycm9yIGV4dGVuZHMgQ0xJU3ludGF4RXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGFyZzogc3RyaW5nLCBkZXRhaWxzID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYEZpcnN0IGFyZ3VtZW50ICcke2FyZ30nIHVucmVjb2duaXplZGAsIFsnY3JlYXRlJywgJ2V4dHJhY3QnXSwgZGV0YWlscyApXG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgQ3JlYXRlRXJyb3IgZXh0ZW5kcyBDTElTeW50YXhFcnJvclxue1xuXHRjb25zdHJ1Y3RvciggbWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzID86IGFueSApXG5cdHtcblx0XHRzdXBlciggbWVzc2FnZSwgWydjcmVhdGUnXSwgZGV0YWlscyApXG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgRXh0cmFjdEVycm9yIGV4dGVuZHMgQ0xJU3ludGF4RXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscyA/OiBhbnkgKVxuXHR7XG5cdFx0c3VwZXIoIG1lc3NhZ2UsIFsnZXh0cmFjdCddLCBkZXRhaWxzIClcblx0fVxufVxuIiwiZXhwb3J0IGNsYXNzIENhdGNoYWJsZUVycm9yIGV4dGVuZHMgRXJyb3Jcbntcblx0ZGV0YWlsczogYW55XG5cblx0Ly8vLy8vLy8vL1xuXG5cdGNvbnN0cnVjdG9yKCBtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHMgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBtZXNzYWdlIClcblx0XHR0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuXHR9XG59IiwiaW1wb3J0IHsgQ2F0Y2hhYmxlRXJyb3IgfSBmcm9tICcuL0NhdGNoYWJsZUVycm9yJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgRW5jcnlwdEVycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoZXJyb3IgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBgQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgZW5jcnlwdGlvbmAsIGVycm9yIClcblx0fVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBEZWNyeXB0RXJyb3IgZXh0ZW5kcyBDYXRjaGFibGVFcnJvclxue1xuXHRjb25zdHJ1Y3RvciggZXJyb3IgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBgQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgZGVjcnlwdGlvbmAsIGVycm9yIClcblx0fVxufVxuIiwiaW1wb3J0IHsgQ2F0Y2hhYmxlRXJyb3IgfSBmcm9tICcuL0NhdGNoYWJsZUVycm9yJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY2xhc3MgRmlsZU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBDYXRjaGFibGVFcnJvclxue1xuXHRjb25zdHJ1Y3RvciggZnVsbFBhdGg6IHN0cmluZywgZXJyb3IgPzogYW55IClcblx0e1xuXHRcdHN1cGVyKCBgRmlsZSAnJHsgZnVsbFBhdGggfScgY2FuJ3QgYmUgZm91bmRgLCBlcnJvciApXG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVBbHJlYWR5RXhpc3RzRXJyb3IgZXh0ZW5kcyBDYXRjaGFibGVFcnJvclxue1xuXHRjb25zdHJ1Y3RvciggZnVsbFBhdGg6IHN0cmluZyApXG5cdHtcblx0XHRzdXBlciggYEZpbGUgJHsgZnVsbFBhdGggfSBhbHJlYWR5IGV4aXN0c2AgKVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTYXZlRmlsZUVycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGZ1bGxQYXRoOiBzdHJpbmcsIGVycm9yID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYFByb2JsZW0gc2F2aW5nICR7IGZ1bGxQYXRoIH0gYCwgZXJyb3IgKVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxlVHlwZUVycm9yIGV4dGVuZHMgQ2F0Y2hhYmxlRXJyb3Jcbntcblx0Y29uc3RydWN0b3IoIGZ1bGxQYXRoOiBzdHJpbmcsIGVycm9yID86IGFueSApXG5cdHtcblx0XHRzdXBlciggYFBhdGggJyR7ZnVsbFBhdGh9JyBzaG91bGQgcmVmZXJlbmNlIGEgZmlsZSBvciBkaXJlY3RvcnlgLCBlcnJvciApXG5cdH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjaGFsa1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb21wcmVzc2luZ1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzd29yZC1wcm9tcHRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG4iXSwibmFtZXMiOlsiYWN0aW9uIiwic291cmNlUGF0aCIsImRlc3RQYXRoIiwiQXJnSGFuZGxlciIsIlRFTVBfRklMRSIsImNvbnNvbGUiLCJsb2ciLCJBY3Rpb24iLCJDUkVBVEUiLCJwcmludE1lc3NhZ2UiLCJBcmNoaXZlIiwiY29tcHJlc3MiLCJwYXNzd29yZCIsInNlY3JldFByb21wdCIsIml2IiwiRW5jcnlwdGlvbiIsImVuY3J5cHQiLCJFWFRSQUNUIiwiaW5pdGlhbGl6YXRpb25WZWN0b3IiLCJkZWNyeXB0IiwiZXh0cmFjdCIsIlN5c3RlbSIsImRlbGV0ZUZpbGUiLCJleGl0IiwiZXJyb3IiLCJDYXRjaGFibGVFcnJvciIsIkNMSVN5bnRheEVycm9yIiwibWVzc2FnZSIsIm1hbkVudHJpZXMiLCJkZXRhaWxzIiwicHJpbnRFcnJvciIsImZvckVhY2giLCJlbnRyeSIsImdldE1hbiIsImlzRGlyZWN0b3J5IiwiQVJDSElWRV9BTEdPIiwiY29tcHJlc3NEaXIiLCJjb21wcmVzc0ZpbGUiLCJlIiwiQ29tcHJlc3NFcnJvciIsInVuY29tcHJlc3MiLCJFeHRyYWN0RXJyb3IiLCJGbGFnIiwiRU5DUllQVElPTl9BTEdPIiwiY29uc3RydWN0b3IiLCJzZXRBY3Rpb24iLCJhcmciLCJhbGxvd2VkQ3JlYXRlIiwiYWxsb3dlZEV4dHJhY3QiLCJpbmNsdWRlcyIsInRoaXMiLCJGaXJzdEFyZ0Vycm9yIiwic2V0U291cmNlIiwiZG9lc0ZpbGVFeGlzdHMiLCJGaWxlTm90Rm91bmRFcnJvciIsInNldERlc3QiLCJwYXRoIiwiREVGQVVMVF9DUkVBVEVfRVhURU5TSU9OIiwiUmVnRXhwIiwidGVzdCIsInNwbGl0IiwiREVGQVVMVF9FWFRSQUNUX0VYVEVOU0lPTiIsIkZpbGVBbHJlYWR5RXhpc3RzRXJyb3IiLCJzZWFyY2hGbGFnIiwiZmxhZ1dyaXR0aW5ncyIsInVuZGVmaW5lZCIsImV4dHJhY3RPY2N1cmFuY2VzIiwiY2FsbGJhY2siLCJvY2N1cmFuY2VzIiwiYXJncyIsImluZGV4IiwicHVzaCIsImxlbmd0aCIsImkiLCJzcGxpY2UiLCJwcm9jZXNzIiwiYXJndiIsInNsaWNlIiwiaXNIZWxwTmVlZGVkIiwiSEVMUCIsImZ1bGxNYW4iLCJTQUxUIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbnB1dCIsImNyZWF0ZVJlYWRTdHJlYW0iLCJvdXRwdXQiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImtleSIsInNjcnlwdFN5bmMiLCJyYW5kb21CeXRlcyIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwicGlwZSIsIm9uIiwidG9TdHJpbmciLCJFbmNyeXB0RXJyb3IiLCJCdWZmZXIiLCJmcm9tIiwiY3JlYXRlRGVjaXBoZXJpdiIsIkRlY3J5cHRFcnJvciIsIm1ha2VNYW4iLCJmb290ZXIiLCJ0b1JldHVybiIsIm1hbiIsImhlYWRlciIsImhhbmRsZUFjdGlvbiIsIm1hblBhZ2UiLCJib2xkIiwidW5kZXJsaW5lIiwidGl0bGUiLCJwcm90b3R5cGUiLCJhcmdEZWYiLCJmdXJ0aGVyRGVzY3JpcHRpb24iLCJleGFtcGxlcyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInZlcnNpb24iLCJyZXBvc2l0b3J5IiwidXJsIiwiY3JlYXRlIiwicmVkIiwiY2hhbGtDb2xvciIsIkFycmF5IiwiaXNBcnJheSIsImxpbmUiLCJ0ZXh0IiwibWV0aG9kIiwiY29kZSIsImdldEFic29sdXRlUGF0aCIsImZpbGVQYXRoIiwiaXNBYnNvbHV0ZSIsImpvaW4iLCJjd2QiLCJleGlzdHNTeW5jIiwiYWJzUGF0aCIsImxzdGF0U3luYyIsImlzRmlsZSIsIkZpbGVUeXBlRXJyb3IiLCJybVN5bmMiLCJzdXBlciIsIkVycm9yIiwiZnVsbFBhdGgiLCJTYXZlRmlsZUVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9